var getOkrChartW; if (getOkrChart = function (t, e) { this.config = { theme: "ula", color: "blue", enableEdit: !0, enableZoom: !0, enableSearch: !0, enableMove: !0, enableGridView: !1, enableDetailsView: !0, enablePrint: !1, enableExportToImage: !1, enableZoomOnNodeDoubleClick: !0, scale: "auto", linkType: "M", orientation: getOkrChart.RO_TOP, primaryFields: ["Name", "Title"], photoFields: ["Image"], idField: null, parentIdField: null, secondParentIdField: null, levelSeparation: 100, siblingSeparation: 30, subtreeSeparation: 40, removeNodeEvent: "", updateNodeEvent: "", updatedEvent: "", insertNodeEvent: "", createNodeEvent: "", clickNodeEvent: "", renderNodeEvent: "", embededDefinitions: "", maxDepth: 30, dataSource: null, customize: [], expandToLevel: 3, boxSizeInPercentage: { minBoxSize: { width: 5, height: 5 }, boxSize: { width: null, height: null }, maxBoxSize: { width: 100, height: 100 } }, layout: null }; var i = getOkrChart.util._6("colorScheme"); if (i && (this.config.color = i), e) for (var a in this.config) void 0 !== e[a] && (this.config[a] = e[a]); for (id in this._d(), this.version = "1.0.0", this.theme = getOkrChart.themes[this.config.theme], this.element = t, this.nodes = {}, this._ao = [], this._al = [], this._zw = [], this._zt = 0, this._zv = 0, this._aJ = null, this._aj = [], this._zf = new getOkrChart.node(-1, null, null, null, 2, 2), this._zj = { found: [], showIndex: 0, oldValue: "", timer: "" }, this._aP = {}, this._aT = null, this._a4 = null, this._zE = null, this.scale = null, this.maxScale = null, this.maxScale = null, this._S = !1, this.theme.defs && (this.config.embededDefinitions += this.theme.defs), this.config.customize) this.config.customize[id].theme && (this.config.embededDefinitions += getOkrChart.themes[this.config.customize[id].theme].defs); this._X = new getOkrChart._X(this.element), this._ae(), this.load() }, getOkrChart.prototype._ae = function () { this._f(); var t = getOkrChart.INNER_HTML.replace("[theme]", this.config.theme).replace("[color]", this.config.color).replace(/\[height]/g, this._a1).replace(/\[toolbar-height]/g, this.theme.toolbarHeight); void 0 !== getOkrChartW && (t = t.slice(0, -6), t += ""), this.element.innerHTML = t }, getOkrChart.prototype.resize = function () { this._f(), this._X._t.style.height = this._a1 + "px", this._X._u.style.height = this._a1 + "px", this._X._9.style.height = this._a1 + "px" }, getOkrChart.prototype._f = function () { this._zN = get._c().msie ? this.element.clientWidth : window.getComputedStyle(this.element, null).width, this._zN = parseInt(this._zN), this._zN < 3 && (this._zN = 1024, this.element.style.width = "1024px"), this._zH = get._c().msie ? this.element.clientHeight : window.getComputedStyle(this.element, null).height, this._zH = parseInt(this._zH), this._zH < 3 && (this._zH = parseInt(9 * this._zN / 16), this.element.style.height = this._zH + "px"), this._a2 = this._zN, this._a1 = this._zH - this.theme.toolbarHeight }, getOkrChart.prototype.changeColorScheme = function (t) { this.config.color != t && (this._X._zY.className = this._X._zY.className.replace(this.config.color, t), this.config.color = t) }, getOkrChart.prototype._a7 = function () { this._ao = [], this._al = [], this._zw = [], getOkrChart._T(this, this._zf, 0), getOkrChart._zo(this, this._zf, 0, 0, 0), getOkrChart._zC(this) }, getOkrChart.prototype._zQ = function (t, e) { null == this._ao[e] && (this._ao[e] = 0), this._ao[e] < t.h && (this._ao[e] = t.h) }, getOkrChart.prototype._zA = function (t, e) { null == this._al[e] && (this._al[e] = 0), this._al[e] < t.w && (this._al[e] = t.w) }, getOkrChart.prototype._zZ = function (t, e) { t.leftNeighbor = this._zw[e], null != t.leftNeighbor && (t.leftNeighbor.rightNeighbor = t), this._zw[e] = t }, getOkrChart.prototype._2 = function (t) { switch (this.config.orientation) { case getOkrChart.RO_TOP: case getOkrChart.RO_TOP_PARENT_LEFT: case getOkrChart.RO_BOTTOM: case getOkrChart.RO_BOTTOM_PARENT_LEFT: return t.w; case getOkrChart.RO_RIGHT: case getOkrChart.RO_RIGHT_PARENT_TOP: case getOkrChart.RO_LEFT: case getOkrChart.RO_LEFT_PARENT_TOP: return t.h }return 0 }, getOkrChart.prototype._P = function (t, e, i) { if (e >= i) return t; if (0 == t._N()) return null; for (var a = t._N(), s = 0; s < a; s++) { var r = t._Y(s), h = this._P(r, e + 1, i); if (null != h) return h } return null }, getOkrChart.prototype._A = function () { var t, e = []; for (var i in t = this._X._v ? getOkrChart.util._7(this._X) : this._8(), e.push(getOkrChart.OPEN_SVG.replace("[defs]", this.config.embededDefinitions).replace("[viewBox]", t.toString())), this.nodes) { var a = this.nodes[i]; if (!this.isCollapsed(a)) { var s = a.draw(this.config); this._V("renderNodeEvent", { node: a, content: s }), e.push(s.join("")); var r = a._Z(this.config); e.push(r) } } if (null != this.config.secondParentIdField) for (var i in this.nodes) { var h = this.nodes[i]._W(this.config); e.push(h) } return e.push(getOkrChart.buttons.draw()), e.push(getOkrChart.CLOSE_SVG), e.join("") }, getOkrChart.prototype._r = function (t, e, i, a, s, r) { var h = t, n = null; e && (n = e * (this._a2 / 100 / (a.w + s))); var o = null; return i && (o = i * (this._a1 / 100 / (a.h + r))), null != n && null != o ? h = n > o ? o : n : null != n ? h = n : null != o && (h = o), h }, getOkrChart.prototype._8 = function () { var t, e, i = this.config.siblingSeparation / 2, a = this.config.levelSeparation / 2, s = 0, r = 0, h = this.nodes[Object.keys(this.nodes)[0]], n = 0, o = 0, l = 0, d = 0; for (var _ in this.nodes) { var c = this.nodes[_]; c.x > n && (n = c.x), c.y > o && (o = c.y), c.x < l && (l = c.x), c.y < d && (d = c.y) } if (null != this.config.boxSizeInPercentage) { var g = this.config.siblingSeparation, p = this.config.levelSeparation; switch (this.config.orientation) { case getOkrChart.RO_RIGHT: case getOkrChart.RO_RIGHT_PARENT_TOP: case getOkrChart.RO_LEFT: case getOkrChart.RO_LEFT_PARENT_TOP: g = this.config.levelSeparation, p = this.config.siblingSeparation }this.scale = this._r(this.config.scale, this.config.boxSizeInPercentage.boxSize.width, this.config.boxSizeInPercentage.boxSize.height, h, g, p), this.minScale = this._r(0, this.config.boxSizeInPercentage.minBoxSize.width, this.config.boxSizeInPercentage.minBoxSize.height, h, g, p), this.maxScale = this._r(1e7, this.config.boxSizeInPercentage.maxBoxSize.width, this.config.boxSizeInPercentage.maxBoxSize.height, h, g, p) } switch (this.config.orientation) { case getOkrChart.RO_TOP: case getOkrChart.RO_TOP_PARENT_LEFT: t = Math.abs(l) + Math.abs(n) + this.theme.size[0], e = Math.abs(d) + Math.abs(o) + this.theme.size[1]; var u = this._a2 / this._a1, x = t / e; "auto" === this.scale ? u < x ? r = -(e = t / u) / 2 + (o - d) / 2 + this.theme.size[1] / 2 : s = -(t = e * u) / 2 + (n - l) / 2 + this.theme.size[0] / 2 : (t = this._a2 / this.scale, e = this._a1 / this.scale, this.config.orientation == getOkrChart.RO_TOP && (s = h.x - t / 2 + h.w / 2)), this.initialViewBoxMatrix = [-i + s, a + r, t + this.config.siblingSeparation, e]; break; case getOkrChart.RO_BOTTOM: case getOkrChart.RO_BOTTOM_PARENT_LEFT: t = Math.abs(l) + Math.abs(n) + this.theme.size[0], e = Math.abs(d) + Math.abs(o), u = this._a2 / this._a1, x = t / e, "auto" === this.scale ? u < x ? r = -(e = t / u) / 2 + (o - d) / 2 : s = -(t = e * u) / 2 + (n - l) / 2 + this.theme.size[0] / 2 : (t = this._a2 / this.scale, e = this._a1 / this.scale, this.config.orientation == getOkrChart.RO_BOTTOM && (s = h.x - t / 2 + h.w / 2)), this.initialViewBoxMatrix = [-i + s, -a - e - r, t + this.config.siblingSeparation, e]; break; case getOkrChart.RO_RIGHT: case getOkrChart.RO_RIGHT_PARENT_TOP: t = Math.abs(l) + Math.abs(n), e = Math.abs(d) + Math.abs(o) + this.theme.size[1], u = this._a2 / this._a1, x = t / e, "auto" === this.scale ? u < x ? r = -(e = t / u) / 2 + (o - d) / 2 + this.theme.size[1] / 2 : s = -(t = e * u) / 2 + (n - l) / 2 : (t = this._a2 / this.scale, e = this._a1 / this.scale, this.orientation == getOkrChart.RO_RIGHT && (r = h.y - e / 2 + h.h / 2)), this.initialViewBoxMatrix = [-t - a - s, -i + r, t, e + this.config.siblingSeparation]; break; case getOkrChart.RO_LEFT: case getOkrChart.RO_LEFT_PARENT_TOP: t = Math.abs(l) + Math.abs(n) + this.theme.size[0], e = Math.abs(d) + Math.abs(o) + this.theme.size[1], u = this._a2 / this._a1, x = t / e, "auto" === this.scale ? u < x ? r = -(e = t / u) / 2 + (o - d) / 2 + this.theme.size[1] / 2 : s = -(t = e * u) / 2 + (n - l) / 2 + this.theme.size[0] / 2 : (t = this._a2 / this.scale, e = this._a1 / this.scale, this.config.orientation == getOkrChart.RO_LEFT && (r = h.y - e / 2 + h.h / 2)), this.initialViewBoxMatrix = [a + s, -i + r, t, e + this.config.siblingSeparation] }return this.initialViewBoxMatrix.toString() }, getOkrChart.prototype.draw = function (t) { return this._X._a0(), this._a7(), this._X._t.innerHTML = this._A(), this._X._a9(), this.config.enableSearch && (this._X._zm.style.display = "inherit", this._X._aD.style.display = "inherit", this._X._za.style.display = "inherit"), this.config.enableZoom && (this._X._zL.style.display = "inherit", this._X._zK.style.display = "inherit"), this.config.enableGridView && (this._X._0.style.display = "inherit"), this.config.enablePrint && (this._X._zs.style.display = "inherit"), this.config.enableExportToImage && (this._X._D.style.display = "inherit"), this.config.enableMove && (this._X._zr.style.display = "inherit", this._X._am.style.display = "inherit", this._X._Q.style.display = "inherit", this._X._zB.style.display = "inherit"), this._e(), this._X._zG(), this._z(t), this.showMainView(), this }, getOkrChart.prototype._z = function (t) { var e = []; for (var i in this.nodes) null != this.nodes[i]._zJ && null != this.nodes[i]._zM && (this.nodes[i]._zJ == this.nodes[i].x && this.nodes[i]._zM == this.nodes[i].y || (r = this._X.getNodeById(i)) && e.push(this.nodes[i])); for (var a = 0; a < e.length; a++) { var s = e[a], r = this._X.getNodeById(s.id), h = getOkrChart.util._5(r), n = h.slice(0); n[4] = s.x, n[5] = s.y, get._z(r, { transform: h }, { transform: n }, 200, get._z._aM, function (i) { t && e[e.length - 1].id == i[0].getAttribute("data-node-id") && t() }) } t && 0 == e.length && t() }, getOkrChart.prototype._aS = function (t, e) { this._q(t, "mouseup", this._aX), this._q(t, "mouseleave", this._aX); var i = this, a = 100; t.interval = setInterval(function () { switch (t) { case i._X._zr: i.move("right", a); break; case i._X._am: i.move("left", a); break; case i._X._Q: i.move("up", a); break; case i._X._zB: i.move("down", a) }a > 10 && a-- }, 20) }, getOkrChart.prototype._aX = function (t, e) { this._zd(t, "mouseup", this._aX), this._zd(t, "mouseleave", this._aX), clearInterval(t.interval) }, getOkrChart.prototype.move = function (t, e, i) { var a = getOkrChart.util._7(this._X), s = a.slice(0), r = this.theme.size[0] / e, h = this.theme.size[1] / e, n = !1; switch (t) { case "left": s[0] -= r; break; case "down": s[1] -= h; break; case "right": s[0] += r; break; case "up": s[1] += h; break; default: s[0] = t[0], s[1] = t[1], s[2] = t[2], s[3] = t[3], n = !0 }return n ? get._z(this._X._v, { viewBox: a }, { viewBox: s }, 300, get._z._av, function () { i && i() }) : this._X._v.setAttribute("viewBox", s), this }, getOkrChart.prototype.isCollapsed = function (t) { return t.parent != this._zf && null != t.parent && (t.parent.collapsed != getOkrChart.EXPANDED || this.isCollapsed(t.parent)) }, getOkrChart.prototype._e = function () { this.config.enableGridView && (this._q(this._X._0, "click", this._zW), this._q(this._X._aq, "click", this._zS)), this.config.enablePrint && this._q(this._X._zs, "click", this._zx), this.config.enableExportToImage && this._q(this._X._D, "click", this._C), this.config.enableMove && ("ontouchstart" in window ? (this._q(this._X._t, "touchstart", this._y, "canvasContainer"), this._q(this._X._t, "touchmove", this._b, "canvasContainer"), this._q(this._X._t, "touchend", this._g, "canvasContainer")) : (this._q(this._X._zr, "mousedown", this._aS), this._q(this._X._am, "mousedown", this._aS), this._q(this._X._Q, "mousedown", this._aS), this._q(this._X._zB, "mousedown", this._aS), this._q(this._X._t, "mousemove", this._aA), this._q(this._X._t, "mousedown", this._aQ), this._q(this._X._t, "mouseup", this._aZ), this._q(this._X._t, "mouseleave", this._aZ))), this._q(window, "keydown", this._an); for (i = 0; i < this._X._aR.length; i++)"ontouchstart" in window && "onorientationchange" in window ? this._q(this._X._aR[i], "touchstart", this._aF) : this._q(this._X._aR[i], "click", this._aF); for (i = 0; i < this._X._aY.length; i++)"ontouchstart" in window && "onorientationchange" in window ? (this._q(this._X._aY[i], "touchstart", this._aU), this._q(this._X._aY[i], "touchmove", this._aN), this._q(this._X._aY[i], "touchend", this._aH)) : (this._q(this._X._aY[i], "mousedown", this._aG), this._q(this._X._aY[i], "click", this._aV), this._q(this._X._aY[i], "mouseover", this._aB)); this._q(this._X._o, "click", this._zg), this.config.enableZoom && (this._q(this._X._zK, "click", this._zO), this._q(this._X._zL, "click", this._zP)), this.config.enableSearch && (this._q(this._X._aD, "click", this._aC), this._q(this._X._za, "click", this._zz), this._q(this._X._zm, "keyup", this._zi), this._q(this._X._zm, "paste", this._zk)); var t = "onorientationchange" in window ? "orientationchange" : "resize"; this._q(window, t, this._zc), "ontouchstart" in window && "onorientationchange" in window && (this._q(this._X._u, "touchstart", this._zh, "detilsView"), this._q(this._X._u, "touchmove", this._zy, "detilsView")) }, getOkrChart.prototype._q = function (t, e, i, a) { var s, r; function h(t) { var e = i.apply(this, arguments); return !1 === e && (t.stopPropagation(), t.preventDefault()), e } a || (a = ""), t.getListenerList || (t.getListenerList = {}), t.getListenerList[e + a] || (s = this, r = i, i = function () { if (r) return r.apply(s, [this, arguments]) }, t.addEventListener ? t.addEventListener(e, h, !1) : t.attachEvent("on" + e, function () { var e = i.call(t, window.event); return !1 === e && (window.event.returnValue = !1, window.event.cancelBubble = !0), e }), t.getListenerList[e + a] = h) }, getOkrChart.prototype._zd = function (t, e) { if (t.getListenerList[e]) { var i = t.getListenerList[e]; t.removeEventListener(e, i, !1), delete t.getListenerList[e] } }, getOkrChart.prototype._zU = function (t, e) { this._E || (this._E = {}), this._E[t] || (this._E[t] = new Array), this._E[t].push(e) }, getOkrChart.prototype._d = function () { this.config.removeNodeEvent && this._zU("removeNodeEvent", this.config.removeNodeEvent), this.config.updateNodeEvent && this._zU("updateNodeEvent", this.config.updateNodeEvent), this.config.createNodeEvent && this._zU("createNodeEvent", this.config.createNodeEvent), this.config.clickNodeEvent && this._zU("clickNodeEvent", this.config.clickNodeEvent), this.config.renderNodeEvent && this._zU("renderNodeEvent", this.config.renderNodeEvent), this.config.insertNodeEvent && this._zU("insertNodeEvent", this.config.insertNodeEvent), this.config.updatedEvent && this._zU("updatedEvent", this.config.updatedEvent) }, getOkrChart.prototype._V = function (t, e) { if (!this._E) return !0; if (!this._E[t]) return !0; var i, a = !0; if (this._E[t]) for (i = 0; i < this._E[t].length; i++)!1 === this._E[t][i](this, e) && (a = !1); return a }, getOkrChart._X = function (t) { this.element = t, this._n }, getOkrChart._X.prototype._a0 = function () { this._zY = this.element.getElementsByTagName("div")[0]; var t = this._zY.children; this._zR = t[0], this._t = t[1], this._u = t[2], this._9 = t[3] }, getOkrChart._X.prototype._a9 = function () { this._v = this._t.getElementsByTagName("svg")[0], this._a6 = this._v.getElementsByTagName("g")[0], this._zF = this._zR.getElementsByTagName("div")[0]; var t = this._zF.getElementsByTagName("div")[0], e = this._zF.getElementsByTagName("div")[1], i = this._zF.getElementsByTagName("div")[2]; this._zm = t.getElementsByTagName("input")[0]; var a = t.getElementsByTagName("a"); this._aD = a[1], this._za = a[0], this._zL = a[2], this._zK = a[3], this._0 = a[4], this._zs = a[5], this._D = a[6], this._m = this._u.getElementsByTagName("div")[0], this._i = this._u.getElementsByTagName("div")[1], this._aR = this._a6.querySelectorAll("[data-btn-action]"), this._aY = this._a6.querySelectorAll("[data-node-id]"), a = e.getElementsByTagName("a"), this._o = a[0], a = i.getElementsByTagName("a"), this._aq = a[0], this._zD = []; var s = this._v.getElementsByTagName("text"); for (r = 0; r < s.length; r++)this._zD.push(s[r]); this._zr = this._zY.getElementsByClassName("get-right")[0], this._am = this._zY.getElementsByClassName("get-left")[0], this._Q = this._zY.getElementsByClassName("get-down")[0], this._zB = this._zY.getElementsByClassName("get-up")[0] }, getOkrChart._X.prototype._zb = function (t) { this._t.style.overflow = "auto", this._v.style.width = t + "px" }, getOkrChart._X.prototype._M = function () { return this._i.getElementsByTagName("input")[0] }, getOkrChart._X.prototype._U = function () { var t = this._i.getElementsByTagName("input"), e = {}; for (i = 1; i < t.length; i++) { var a = t[i].value; e[t[i].parentNode.previousSibling.innerHTML] = a } return e }, getOkrChart._X.prototype._I = function () { return this._i.getElementsByTagName("input") }, getOkrChart._X.prototype._J = function () { var t = this._i.getElementsByTagName("select"); for (i = 0; i < t.length; i++)if ("get-oc-labels" == t[i].className) return t[i]; return null }, getOkrChart._X.prototype._K = function () { var t = this._i.getElementsByTagName("select"); for (i = 0; i < t.length; i++)if ("get-oc-select-parent" == t[i].className) return t[i]; return null }, getOkrChart._X.prototype.getNodeById = function (t) { return this._a6.querySelector("[data-node-id='" + t + "']") }, getOkrChart._X.prototype.removeLinks = function () { for (var t = this._a6.querySelectorAll("[data-link-id]"), e = t.length; e--;)t[e].parentNode.removeChild(t[e]) }, getOkrChart._X.prototype.getButtonByType = function (t) { return this._a6.querySelector("[data-btn-action='" + t + "']") }, getOkrChart._X.prototype._zG = function (t) { var e; for (e = t ? this.getNodeById(t).getElementsByTagName("text") : this._zD, i = 0; i < e.length; i++) { e[i].getAttribute("x"); var a = e[i].getAttribute("width"); if (null === e[i].offsetParent) return; for (var s = e[i].getComputedTextLength(); s > a;)e[i].textContent = e[i].textContent.substring(0, e[i].textContent.length - 4), e[i].textContent += "...", s = e[i].getComputedTextLength() } }, getOkrChart.SCALE_FACTOR = 1.2, getOkrChart.INNER_HTML = '<div class="get-[theme] get-[color] get-org-chart"><div class="get-oc-tb"><div><div style="height:[toolbar-height]px;"><input class="searchObj" style="border-radius:3px;" placeholder="Buscar Objetivo" type="text" /><a title="previous" style="background-repeat:no-repeat; background-size: 25px;" class="get-prev get-disabled" href="javascript:void(0)">&nbsp;</a><a title="next" style="background-repeat:no-repeat; background-size: 25px;" class="get-next get-disabled" href="javascript:void(0)">&nbsp;</a><a style="background-repeat:no-repeat; background-size: 25px;" class="get-minus" title="zoom out" href="javascript:void(0)">&nbsp;</a><a style="background-repeat:no-repeat; background-size: 25px;" class="get-plus" title="zoom in" href="javascript:void(0)">&nbsp;</a><a href="javascript:void(0)" class="get-grid-view" title="grid view">&nbsp;</a><a href="javascript:void(0)" class="get-print" title="print">&nbsp;</a><a href="javascript:void(0)" class="get-export-to-image" title="export to image">&nbsp;</a></div ><div style="height:[toolbar-height]px;"><a></a></a></div><div style="height:[toolbar-height]px;"><a title="previous page" class="get-prev-page" href="javascript:void(0)">&nbsp;</a></div></div></div><div class="get-oc-c" style="height:[height]px;"></div><div class="get-oc-v" style="height:[height]px;"><div class="get-image-pane"></div><div class="get-data-pane"></div></div><div class="get-oc-g" style="height:[height]px;"></div><div class="get-left"><div class="get-left-icon"></div></div><div class="get-right"><div class="get-right-icon"></div></div><div class="get-up"><div class="get-up-icon"></div></div><div class="get-down"><div class="get-down-icon"></div></div></div>', getOkrChart.DETAILS_VIEW_INPUT_HTML = '<div data-field-name="[label]"><div class="get-label">[label]</div><div class="get-data"><input value="[value]"/></div></div>', getOkrChart.DETAILS_VIEW_USER_LOGO = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"  xmlns:xml="http://www.w3.org/XML/1998/namespace" viewBox="0 0 50 50" class="get-user-logo" preserveAspectRatio="xMaxYMin meet"><g><path class="get-user-logo" d="M258.744,293.214c70.895,0,128.365-57.472,128.365-128.366c0-70.896-57.473-128.367-128.365-128.367 c-70.896,0-128.368,57.472-128.368,128.367C130.377,235.742,187.848,293.214,258.744,293.214z"/><path d="M371.533,322.432H140.467c-77.577,0-140.466,62.909-140.466,140.487v12.601h512v-12.601   C512,385.341,449.112,322.432,371.533,322.432z"/></g></svg>', getOkrChart.DETAILS_VIEW_USER_LOGO = '<svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 482.9 482.9" style="enable-background:new 0 0 482.9 482.9;" xml:space="preserve" class="get-user-logo">    <path d="M239.7,260.2c0.5,0,1,0,1.6,0c0.2,0,0.4,0,0.6,0c0.3,0,0.7,0,1,0c29.3-0.5,53-10.8,70.5-30.5 c38.5-43.4,32.1-117.8,31.4-124.9c-2.5-53.3-27.7-78.8-48.5-90.7C280.8,5.2,262.7,0.4,242.5,0h-0.7c-0.1,0-0.3,0-0.4,0h-0.6 c-11.1,0-32.9,1.8-53.8,13.7c-21,11.9-46.6,37.4-49.1,91.1c-0.7,7.1-7.1,81.5,31.4,124.9C186.7,249.4,210.4,259.7,239.7,260.2z M164.6,107.3c0-0.3,0.1-0.6,0.1-0.8c3.3-71.7,54.2-79.4,76-79.4h0.4c0.2,0,0.5,0,0.8,0c27,0.6,72.9,11.6,76,79.4 c0,0.3,0,0.6,0.1,0.8c0.1,0.7,7.1,68.7-24.7,104.5c-12.6,14.2-29.4,21.2-51.5,21.4c-0.2,0-0.3,0-0.5,0l0,0c-0.2,0-0.3,0-0.5,0 c-22-0.2-38.9-7.2-51.4-21.4C157.7,176.2,164.5,107.9,164.6,107.3z"/> <path d="M446.8,383.6c0-0.1,0-0.2,0-0.3c0-0.8-0.1-1.6-0.1-2.5c-0.6-19.8-1.9-66.1-45.3-80.9c-0.3-0.1-0.7-0.2-1-0.3 c-45.1-11.5-82.6-37.5-83-37.8c-6.1-4.3-14.5-2.8-18.8,3.3c-4.3,6.1-2.8,14.5,3.3,18.8c1.7,1.2,41.5,28.9,91.3,41.7 c23.3,8.3,25.9,33.2,26.6,56c0,0.9,0,1.7,0.1,2.5c0.1,9-0.5,22.9-2.1,30.9c-16.2,9.2-79.7,41-176.3,41 c-96.2,0-160.1-31.9-176.4-41.1c-1.6-8-2.3-21.9-2.1-30.9c0-0.8,0.1-1.6,0.1-2.5c0.7-22.8,3.3-47.7,26.6-56 c49.8-12.8,89.6-40.6,91.3-41.7c6.1-4.3,7.6-12.7,3.3-18.8c-4.3-6.1-12.7-7.6-18.8-3.3c-0.4,0.3-37.7,26.3-83,37.8 c-0.4,0.1-0.7,0.2-1,0.3c-43.4,14.9-44.7,61.2-45.3,80.9c0,0.9,0,1.7-0.1,2.5c0,0.1,0,0.2,0,0.3c-0.1,5.2-0.2,31.9,5.1,45.3 c1,2.6,2.8,4.8,5.2,6.3c3,2,74.9,47.8,195.2,47.8s192.2-45.9,195.2-47.8c2.3-1.5,4.2-3.7,5.2-6.3 C447,415.5,446.9,388.8,446.8,383.6z"/> </svg>', getOkrChart.DETAILS_VIEW_ID_INPUT = '<input value="[personId]" type="hidden"></input>', getOkrChart.DETAILS_VIEW_ID_IMAGE = '<img src="[src]"  />', getOkrChart.HIGHLIGHT_SCALE_FACTOR = 1.2, getOkrChart.MOVE_FACTOR = 2, getOkrChart.RO_BOTTOM = 1, getOkrChart.RO_RIGHT = 2, getOkrChart.RO_LEFT = 3, getOkrChart.RO_TOP_PARENT_LEFT = 4, getOkrChart.RO_BOTTOM_PARENT_LEFT = 5, getOkrChart.RO_RIGHT_PARENT_TOP = 6, getOkrChart.RO_LEFT_PARENT_TOP = 7, getOkrChart.OPEN_SVG = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="[viewBox]"><defs>[defs]</defs><g>', getOkrChart.CLOSE_SVG = "</svg>", getOkrChart.OPEN_NODE = '<g data-node-id="[data-node-id]" class="get-level-[level] [nodeCssClass]" transform="matrix(1,0,0,1,[x],[y])">', getOkrChart.CLOSE_NODE = "</g>", getOkrChart.NOT_DEFINED = 0, getOkrChart.COLLAPSED = 1, getOkrChart.EXPANDED = 2, getOkrChart.MIXED_HIERARCHY_RIGHT_LINKS = 0, getOkrChart._T = function (t, e, i) { var a = null; if (e.x = 0, e.y = 0, e._zq = 0, e._ap = 0, e.level = i, e.leftNeighbor = null, e.rightNeighbor = null, t._zQ(e, i), t._zA(e, i), t._zZ(e, i), e.collapsed == getOkrChart.NOT_DEFINED && (e.collapsed = t.config.expandToLevel && t.config.expandToLevel <= i && e._N() ? getOkrChart.COLLAPSED : getOkrChart.EXPANDED), 0 == e._N() || i == t.config.maxDepth) a = e._1(), e._zq = null != a ? a._zq + t._2(a) + t.config.siblingSeparation : 0; else { for (var s = e._N(), r = 0; r < s; r++) { var h = e._Y(r); getOkrChart._T(t, h, i + 1) } var n = e._H(t); n -= t._2(e) / 2, null != (a = e._1()) ? (e._zq = a._zq + t._2(a) + t.config.siblingSeparation, e._ap = e._zq - n, getOkrChart._w(t, e, i)) : t.config.orientation <= 3 ? e._zq = n : e._zq = 0 } }, getOkrChart._w = function (t, e, i) { for (var a = e._O(), s = a.leftNeighbor, r = 1, h = t.config.maxDepth - i; null != a && null != s && r <= h;) { for (var n = 0, o = 0, l = a, d = s, _ = 0; _ < r; _++)l = l.getParent(), d = d.getParent(), n += l._ap, o += d._ap; var c = s._zq + o + t._2(s) + t.config.subtreeSeparation - (a._zq + n); if (c > 0) { for (var g = e, p = 0; null != g && g != d; g = g._1())p++; if (null != g) for (var u = e, x = c / p; u != d; u = u._1())u._zq += c, u._ap += c, c -= x } r++ , null != (a = 0 == a._N() ? t._P(e, 0, r) : a._O()) && (s = a.leftNeighbor) } }, getOkrChart._zo = function (t, e, i, a, s) { if (i <= t.config.maxDepth) { var r = t._zv + e._zq + a, h = t._zt + s, n = 0, o = 0, l = !1; switch (t.config.orientation) { case getOkrChart.RO_TOP: case getOkrChart.RO_TOP_PARENT_LEFT: case getOkrChart.RO_BOTTOM: case getOkrChart.RO_BOTTOM_PARENT_LEFT: n = t._ao[i], o = e.h; break; case getOkrChart.RO_RIGHT: case getOkrChart.RO_RIGHT_PARENT_TOP: case getOkrChart.RO_LEFT: case getOkrChart.RO_LEFT_PARENT_TOP: n = t._al[i], l = !0, o = e.w }if (e.x = r, e.y = h, l) { var d = e.x; e.x = e.y, e.y = d } switch (t.config.orientation) { case getOkrChart.RO_BOTTOM: case getOkrChart.RO_BOTTOM_PARENT_LEFT: e.y = -e.y - o; break; case getOkrChart.RO_RIGHT: case getOkrChart.RO_RIGHT_PARENT_TOP: e.x = -e.x - o }0 != e._N() && getOkrChart._zo(t, e._O(), i + 1, a + e._ap, s + n + t.config.levelSeparation); var _ = e._4(); null != _ && getOkrChart._zo(t, _, i, a, s) } }, getOkrChart._zC = function (t) { if (t._zv = t._zf.x, t._zt = t._zf.y, t._aJ) { var e = t.nodes[t._aJ.id], i = t._aJ.old_x - e.x, a = t._aJ.old_y - e.y; for (var s in t.nodes) t.nodes[s].isVisible() && (t.nodes[s].x += i, t.nodes[s].y += a) } t._aJ = null }, getOkrChart.node = function (t, e, i, a, s, r, h, n) { this.id = t, this.pid = e, this.spid = i, this.displayPid = null, this.data = a, this.w = s[0], this.h = s[1], this.parent = null, this.secondParent = null, this.displayParent = null, this.children = [], this.secondChildren = [], this.displayChildren = null, this.leftNeighbor = null, this.rightNeighbor = null, this.photoFields = r, this.type = "node", this.collapsed = h, this.color = null == n ? null : n, this.x = 0, this._zJ = null, this._zM = null, this.y = 0, this._zq = 0, this._ap = 0 }, getOkrChart.node.prototype.getParent = function () { return null != this.displayParent ? this.displayParent : this.parent }, getOkrChart.node.prototype.getChildren = function () { if (null != this.displayChildren) return this.displayChildren; var t = []; for (i = 0; i < this.children.length; i++)null == this.children[i].displayParent && t.push(this.children[i]); return t }, getOkrChart.node.prototype.getImageUrl = function () { return this.photoFields && this.data[this.photoFields[0]] ? this.data[this.photoFields[0]] : null }, getOkrChart.node.prototype._N = function () { return null == this.displayChildren && this.collapsed == getOkrChart.COLLAPSED ? 0 : null == this.getChildren() ? 0 : this.getChildren().length }, getOkrChart.node.prototype._1 = function () { return null != this.leftNeighbor && this.leftNeighbor.getParent() == this.getParent() ? this.leftNeighbor : null }, getOkrChart.node.prototype.isVisible = function () { return 0 != this.x || 0 != this.y }, getOkrChart.node.prototype._4 = function () { return null != this.rightNeighbor && this.rightNeighbor.getParent() == this.getParent() ? this.rightNeighbor : null }, getOkrChart.node.prototype._Y = function (t) { return this.getChildren()[t] }, getOkrChart.node.prototype._H = function (t) { return node = this._O(), node1 = this._L(), node._zq + (node1._zq - node._zq + t._2(node1)) / 2 }, getOkrChart.node.prototype._O = function () { return this._Y(0) }, getOkrChart.node.prototype._L = function () { return this._Y(this._N() - 1) }, getOkrChart.node.prototype._Z = function (t) { if (!this.getChildren().length) return []; var e = [], i = 0, a = 0, s = 0, r = 0, h = 0, n = 0, o = 0, l = 0, d = 0, _ = 0, c = 0, g = 0, p = 0, u = 0, x = 0, f = 0, y = null, O = t.customize[this.id] && t.customize[this.id].theme ? getOkrChart.themes[t.customize[this.id].theme] : getOkrChart.themes[t.theme]; switch (t.orientation) { case getOkrChart.RO_TOP: case getOkrChart.RO_TOP_PARENT_LEFT: i = this.x + this.w / 2, a = this.y + this.h, d = this.x + this.w, _ = this.y + this.h / 2; break; case getOkrChart.RO_BOTTOM: case getOkrChart.RO_BOTTOM_PARENT_LEFT: i = this.x + this.w / 2, a = this.y, d = this.x + this.w, _ = this.y + this.h / 2; break; case getOkrChart.RO_RIGHT: case getOkrChart.RO_RIGHT_PARENT_TOP: i = this.x, a = this.y + this.h / 2, d = this.x + this.w / 2, _ = this.y + this.h; break; case getOkrChart.RO_LEFT: case getOkrChart.RO_LEFT_PARENT_TOP: i = this.x + this.w, a = this.y + this.h / 2, d = this.x + this.w / 2, _ = this.y + this.h }for (var v = 0; v < this.getChildren().length; v++) { switch (y = this.getChildren()[v], t.orientation) { case getOkrChart.RO_TOP: case getOkrChart.RO_TOP_PARENT_LEFT: o = h = y.x + y.w / 2, s = i, r = n = (l = y.y) - t.levelSeparation / 2, x = y.x + y.w, f = u = y.y + y.h / 2, p = c = y.x + y.w + t.siblingSeparation / 2, g = _; break; case getOkrChart.RO_BOTTOM: case getOkrChart.RO_BOTTOM_PARENT_LEFT: o = h = y.x + y.w / 2, s = i, r = n = (l = y.y + y.h) + t.levelSeparation / 2, x = y.x + y.w, f = u = y.y + y.h / 2, p = c = y.x + y.w + t.siblingSeparation / 2, g = _; break; case getOkrChart.RO_RIGHT: case getOkrChart.RO_RIGHT_PARENT_TOP: o = y.x + y.w, l = n = y.y + y.h / 2, r = a, s = h = o + t.levelSeparation / 2, x = p = y.x + y.w / 2, f = y.y + y.h, c = d, g = u = y.y + y.h + t.siblingSeparation / 2; break; case getOkrChart.RO_LEFT: case getOkrChart.RO_LEFT_PARENT_TOP: o = y.x, l = n = y.y + y.h / 2, r = a, s = h = o - t.levelSeparation / 2, x = p = y.x + y.w / 2, f = y.y + y.h, c = d, g = u = y.y + y.h + t.siblingSeparation / 2 }if (null == this.displayChildren && null != y.displayChildren && this.collapsed == getOkrChart.EXPANDED) switch (t.orientation) { case getOkrChart.RO_TOP: case getOkrChart.RO_TOP_PARENT_LEFT: case getOkrChart.RO_BOTTOM: case getOkrChart.RO_BOTTOM_PARENT_LEFT: e.push('<path data-link-id="' + this.id + '" class="link"   d="M' + i + "," + a + " " + s + "," + r + " " + c + "," + r + " " + p + "," + u + " L" + x + "," + f + '"/>'); break; case getOkrChart.RO_RIGHT: case getOkrChart.RO_RIGHT_PARENT_TOP: case getOkrChart.RO_LEFT: case getOkrChart.RO_LEFT_PARENT_TOP: e.push('<path data-link-id="' + this.id + '" class="link"   d="M' + i + "," + a + " " + s + "," + r + " " + s + "," + g + " " + p + "," + u + " L" + x + "," + f + '"/>') } else if (null != this.displayChildren) e.push('<path data-link-id="' + this.id + '" class="link"   d="M' + d + "," + _ + " " + c + "," + g + " " + p + "," + u + " L" + x + "," + f + '"/>'); else if (this.collapsed == getOkrChart.EXPANDED) switch (t.linkType) { case "M": e.push('<path data-link-id="' + this.id + '" class="link"   d="M' + i + "," + a + " " + s + "," + r + " " + h + "," + n + " L" + o + "," + l + '"/>'); break; case "B": e.push('<path data-link-id="' + this.id + '" class="link"  d="M' + i + "," + a + " C" + s + "," + r + " " + h + "," + n + " " + o + "," + l + '"/>') }t.expandToLevel && null == this.displayChildren && e.push(getOkrChart.buttons.expColl.replace("[display]", this.collapsed == getOkrChart.EXPANDED ? "none" : "block").replace(/\[xa]/g, i - O.expandCollapseBtnRadius).replace(/\[ya]/g, a - O.expandCollapseBtnRadius).replace(/\[start]/g, 2 * O.expandCollapseBtnRadius / 6).replace(/\[middle]/g, O.expandCollapseBtnRadius).replace(/\[end]/g, 2 * O.expandCollapseBtnRadius / 6 * 5).replace(/\[id]/g, this.id)) } return e.join("") }, getOkrChart.node.prototype._W = function (t) { if (!this.secondChildren.length) return []; var e = [], i = 0, a = 0, s = 0, r = 0, h = 0, n = 0, o = 0, l = 0, d = 0, _ = 0, c = 0, g = 0, p = 0, u = 0, x = null, f = t.customize[this.id] && t.customize[this.id].theme ? getOkrChart.themes[t.customize[this.id].theme] : getOkrChart.themes[t.theme]; switch (t.orientation) { case getOkrChart.RO_TOP: case getOkrChart.RO_TOP_PARENT_LEFT: i = this.x + this.w / 2, a = this.y + this.h, o = this.x + this.w, l = this.y + this.h / 2, c = this.x, g = this.y + this.h / 2; break; case getOkrChart.RO_BOTTOM: case getOkrChart.RO_BOTTOM_PARENT_LEFT: i = this.x + this.w / 2, a = this.y, o = this.x + this.w, l = this.y + this.h / 2, c = this.x, g = this.y + this.h / 2; break; case getOkrChart.RO_RIGHT: case getOkrChart.RO_RIGHT_PARENT_TOP: i = this.x, a = this.y + this.h / 2, o = this.x + this.w / 2, l = this.y + this.h, c = this.x + this.w / 2, g = this.y; break; case getOkrChart.RO_LEFT: case getOkrChart.RO_LEFT_PARENT_TOP: i = this.x + this.w, a = this.y + this.h / 2, o = this.x + this.w / 2, l = this.y + this.h, c = this.x + this.w / 2, g = this.y }for (var y = this.secondChildren.length - 1; y >= 0; y--)if (!(x = this.secondChildren[y]).isCollapsed()) { switch (t.orientation) { case getOkrChart.RO_TOP: case getOkrChart.RO_TOP_PARENT_LEFT: s = x.x + x.w / 2, r = x.y, n = a, i > s ? (h = i - f.expandCollapseBtnRadius, s += f.expandCollapseBtnRadius) : (h = i + f.expandCollapseBtnRadius, s -= f.expandCollapseBtnRadius), d = x.x, _ = x.y + x.h / 2, p = x.x + x.w, u = x.y + x.h / 2; break; case getOkrChart.RO_BOTTOM: case getOkrChart.RO_BOTTOM_PARENT_LEFT: s = x.x + x.w / 2, r = x.y + x.h, n = a, i > s ? (h = i - f.expandCollapseBtnRadius, s += f.expandCollapseBtnRadius) : (h = i + f.expandCollapseBtnRadius, s -= f.expandCollapseBtnRadius), d = x.x, _ = x.y + x.h / 2, p = x.x + x.w, u = x.y + x.h / 2; break; case getOkrChart.RO_RIGHT: case getOkrChart.RO_RIGHT_PARENT_TOP: s = x.x + x.w, h = i, a > (r = yc = x.y + x.h / 2) ? (n = a - f.expandCollapseBtnRadius, r += f.expandCollapseBtnRadius) : (n = a + f.expandCollapseBtnRadius, r -= f.expandCollapseBtnRadius), d = x.x + x.w / 2, _ = x.y, p = x.x + x.w / 2, u = x.y + x.h; break; case getOkrChart.RO_LEFT: case getOkrChart.RO_LEFT_PARENT_TOP: s = x.x, h = i, a > (r = yc = x.y + x.h / 2) ? (n = a - f.expandCollapseBtnRadius, r += f.expandCollapseBtnRadius) : (n = a + f.expandCollapseBtnRadius, r -= f.expandCollapseBtnRadius), d = x.x + x.w / 2, _ = x.y, p = x.x + x.w / 2, u = x.y + x.h }x.leftNeighbor == this ? e.push('<path data-link-id="' + this.id + '" class="link-second-parent"   d="M' + o + "," + l + "  L" + d + "," + _ + '"/>') : x.rightNeighbor == this ? e.push('<path data-link-id="' + this.id + '" class="link-second-parent"   d="M' + c + "," + g + "  L" + p + "," + u + '"/>') : e.push('<path data-link-id="' + this.id + '" class="link-second-parent"   d="M' + h + "," + n + "  L" + s + "," + r + '"/>') } return e.join("") }, getOkrChart.node.prototype.isCollapsed = function () { return null != this.parent && (this.parent.collapsed == getOkrChart.COLLAPSED || this.parent.isCollapsed()) }, getOkrChart.node.prototype.getMostDeepChild = function (t) { var e = this; return function t(i, a) { if (i.collapsed == getOkrChart.EXPANDED || null != i.displayChildren) for (var s = 0; s < i.getChildren().length; s++) { var r = a[i.getChildren()[s].id]; r.level > e.level && (e = r), t(i.getChildren()[s], a) } }(this, t), e }, getOkrChart.node.prototype.draw = function (t) { var e = [], i = this.getImageUrl(), a = t.customize[this.id] && t.customize[this.id].theme ? getOkrChart.themes[t.customize[this.id].theme] : getOkrChart.themes[t.theme], s = t.customize[this.id] && t.customize[this.id].theme ? " get-" + t.customize[this.id].theme : "", r = t.customize[this.id] && t.customize[this.id].color ? " get-" + t.customize[this.id].color : ""; s && !r && (r = " get-" + t.color), null == this.color || null == this.displayChildren && null == this.displayParent || (r += " get-" + this.color), r && !s && (s = " get-" + t.theme); var h = s + r, n = i ? a.textPoints : a.textPointsNoImage; for (themeProperty in e.push(getOkrChart.OPEN_NODE.replace("[data-node-id]", this.id).replace("[x]", null == this._zJ ? this.x : this._zJ).replace("[y]", null == this._zM ? this.y : this._zM).replace("[level]", this.level).replace("[nodeCssClass]", h)), a) switch (themeProperty) { case "image": i && e.push(a.image.replace("[href]", i)); break; case "text": var o = 0; for (k = 0; k < t.primaryFields.length; k++) { var l = n[o], d = t.primaryFields[k]; l && this.data && this.data[d] && (e.push(a.text.replace("[index]", o).replace("[text]", this.data[d]).replace("[y]", l.y).replace("[x]", l.x).replace("[rotate]", l.rotate).replace("[width]", l.width)), o++) } break; default: "size" != themeProperty && "toolbarHeight" != themeProperty && "textPoints" != themeProperty && "expandCollapseBtnRadius" != themeProperty && "textPointsNoImage" != themeProperty && e.push(a[themeProperty]) }return e.push(getOkrChart.CLOSE_NODE), e }, !getOkrChart) var getOkrChart = {}; if (getOkrChart.themes = { annabel: { size: [500, 220], toolbarHeight: 46, textPoints: [{ x: 10, y: 200, width: 490 }, { x: 210, y: 40, width: 290 }, { x: 210, y: 65, width: 290 }, { x: 210, y: 90, width: 290 }, { x: 210, y: 115, width: 290 }, { x: 210, y: 140, width: 290 }], textPointsNoImage: [{ x: 10, y: 200, width: 490 }, { x: 10, y: 40, width: 490 }, { x: 10, y: 65, width: 490 }, { x: 10, y: 90, width: 490 }, { x: 10, y: 115, width: 490 }, { x: 10, y: 140, width: 490 }], expandCollapseBtnRadius: 20, box: '<path class="get-box" d="M0 0 L500 0 L500 220 L0 220 Z"/>', text: '<text width="[width]" class="get-text get-text-[index]" x="[x]" y="[y]">[text]</text>', image: '<image xlink:href="[href]"  x="20" y="-20" height="170" preserveAspectRatio="xMidYMid slice" width="170"/>' }, sara: { size: [500, 220], toolbarHeight: 46, textPoints: [{ x: 10, y: 200, width: 490 }, { x: 210, y: 40, width: 290 }, { x: 210, y: 65, width: 290 }, { x: 210, y: 90, width: 290 }, { x: 210, y: 115, width: 290 }, { x: 210, y: 140, width: 290 }], textPointsNoImage: [{ x: 10, y: 200, width: 490 }, { x: 10, y: 40, width: 490 }, { x: 10, y: 65, width: 490 }, { x: 10, y: 90, width: 490 }, { x: 10, y: 115, width: 490 }, { x: 10, y: 140, width: 490 }], expandCollapseBtnRadius: 20, box: '<rect  x="0" y="0" height="220" width="500" rx="10" ry="10" class="get-box" />', text: '<text width="[width]" class="get-text get-text-[index]" x="[x]" y="[y]">[text]</text>', image: '<image xlink:href="[href]"  x="20" y="-20" height="170" preserveAspectRatio="xMidYMid slice" width="170"/>' }, belinda: { size: [300, 300], toolbarHeight: 46, textPoints: [{ x: 40, y: 70, width: 220 }, { x: 40, y: 245, width: 220 }, { x: 65, y: 270, width: 170 }], textPointsNoImage: [{ x: 30, y: 100, width: 240 }, { x: 30, y: 140, width: 240 }, { x: 30, y: 180, width: 240 }, { x: 30, y: 220, width: 240 }], expandCollapseBtnRadius: 20, box: '<circle class="get-box" cx="150" cy="150" r="150" />', text: '<text width="[width]" class="get-text get-text-[index]" x="[x]" y="[y]">[text]</text>', image: '<clipPath id="getBelindaClip1"><rect x="0" y="75" width="300" height="150" /></clipPath><clipPath clip-path="url(#getBelindaClip1)" id="getBelindaClip2"><circle cx="150" cy="150" r="150" /></clipPath><image preserveAspectRatio="xMidYMid slice"  clip-path="url(#getBelindaClip2)" xlink:href="[href]" x="1" y="1" height="300"   width="300"/>' }, cassandra: { size: [310, 140], toolbarHeight: 46, textPoints: [{ x: 110, y: 50, width: 200 }, { x: 110, y: 80, width: 200 }, { x: 110, y: 105, width: 200 }, { x: 110, y: 130, width: 200 }], textPointsNoImage: [{ x: 110, y: 50, width: 200 }, { x: 110, y: 80, width: 200 }, { x: 110, y: 105, width: 200 }, { x: 110, y: 130, width: 200 }], expandCollapseBtnRadius: 20, box: '<path class="get-box get-cassandra-border" d="M70 10 L70 0 L310 0 L310 10 M310 130 L310 140 L70 140 L70 130"/>', text: '<text width="[width]" class="get-text get-text-[index] get-cassandra-text" x="[x]" y="[y]">[text]</text>', image: '<image xlink:href="[href]" x="1" y="20" height="100" preserveAspectRatio="xMidYMid slice" width="100"/>' }, deborah: { size: [222, 222], toolbarHeight: 46, textPoints: [{ x: 10, y: 40, width: 202 }, { x: 10, y: 200, width: 202 }], textPointsNoImage: [{ x: 10, y: 40, width: 202 }, { x: 10, y: 200, width: 202 }], expandCollapseBtnRadius: 20, image: '<clipPath id="getVivaClip"><path class="get-box" d="M35 0 L187 0 Q222 0 222 35 L222 187 Q222 222 187 222 L35 222 Q0 222 0 187 L0 35 Q0 0 35 0 Z"/></clipPath><image clip-path="url(#getVivaClip)" xlink:href="[href]" x="0" y="0" height="222" preserveAspectRatio="xMidYMid slice" width="222"/>', box: '<path class="get-text-pane" d="M222 172 Q222 222 187 222 L35 222 Q0 222 0 187 L0 172 Z"/><path class="get-text-pane" d="M35 0 L187 0 Q222 0 222 35 L222 50 L0 50 L0 50 Q0 0 35 0 Z"/><path class="get-box" d="M35 0 L187 0 Q222 0 222 35 L222 187 Q222 222 187 222 L35 222 Q0 222 0 187 L0 35 Q0 0 35 0 Z"/>', text: '<text width="[width]" class="get-text get-text-[index]" x="[x]" y="[y]">[text]</text>' }, lena: { size: [481, 420], toolbarHeight: 46, textPoints: [{ x: 40, y: 130, width: 280 }, { x: 40, y: 325, width: 280 }, { x: 40, y: 355, width: 280 }, { x: 40, y: 385, width: 280 }], textPointsNoImage: [{ x: 40, y: 130, width: 280 }, { x: 40, y: 190, width: 280 }, { x: 40, y: 220, width: 280 }, { x: 40, y: 250, width: 280 }, { x: 40, y: 280, width: 280 }, { x: 40, y: 310, width: 280 }, { x: 40, y: 340, width: 280 }], expandCollapseBtnRadius: 20, defs: '<linearGradient id="getNodeDef2"><stop class="get-def-stop-1" offset="0" /><stop class="get-def-stop-2" offset="1" /></linearGradient><linearGradient xlink:href="#getNodeDef2" id="getNodeDef1" y2="0.21591" x2="0.095527" y1="0.140963" x1="0.063497" />', box: '<path fill="#000000" fill-opacity="0.392157" fill-rule="nonzero" stroke-width="4" stroke-miterlimit="4" d="M15.266,67.6297 C66.2394,47.802 149.806,37.5153 149.806,37.5153 L387.9,6.06772 L413.495,199.851 C413.495,199.851 427.17,312.998 460.342,367.036 C382.729,399.222 245.307,419.23 245.307,419.23 L51.5235,444.825 L7.74078,113.339 C7.74078,113.339 0.7616,86.8934 15.266,67.6297 L15.266,67.6297 z" /><path fill="url(#getNodeDef1)" fill-rule="nonzero" stroke="#000000" stroke-width="4" stroke-miterlimit="4" d="M7.83745,60.562 C66.3108,43.7342 144.877,33.4476 144.877,33.4476 L382.972,2 L408.567,195.783 C408.567,195.783 417.334,271.777 450.506,325.814 C387.314,401.952 240.378,415.162 240.378,415.162 L46.5949,440.757 L2.81219,109.271 C2.81219,109.271 -0.98386,77.3975 7.83744,60.562 L7.83745,60.562 z" />', text: '<text transform="rotate(-8)" width="[width]" class="get-text get-text-[index]" x="[x]" y="[y]">[text]</text>', image: '<image transform="rotate(-8)" xlink:href="[href]" x="40" y="150" height="150" preserveAspectRatio="xMidYMid slice" width="280"/>' }, monica: { size: [500, 220], toolbarHeight: 46, textPoints: [{ x: 10, y: 200, width: 490 }, { x: 200, y: 40, width: 300 }, { x: 210, y: 65, width: 290 }, { x: 210, y: 90, width: 290 }, { x: 200, y: 115, width: 300 }, { x: 185, y: 140, width: 315 }], textPointsNoImage: [{ x: 10, y: 200, width: 490 }, { x: 10, y: 40, width: 490 }, { x: 10, y: 65, width: 490 }, { x: 10, y: 90, width: 490 }, { x: 10, y: 115, width: 490 }, { x: 10, y: 140, width: 490 }], expandCollapseBtnRadius: 20, box: '<path class="get-box" d="M0 0 L500 0 L500 220 L0 220 Z"/>', text: '<text width="[width]" class="get-text get-text-[index]" x="[x]" y="[y]">[text]</text>', image: '<clipPath id="getMonicaClip"><circle cx="105" cy="65" r="85" /></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#getMonicaClip)" xlink:href="[href]" x="20" y="-20" height="170" width="170"/>' }, ula: { size: [500, 220], toolbarHeight: 46, textPoints: [{ x: 10, y: 200, width: 490 }, { x: 200, y: 40, width: 300 }, { x: 210, y: 65, width: 290 }, { x: 210, y: 90, width: 290 }, { x: 200, y: 115, width: 300 }, { x: 185, y: 140, width: 315 }], textPointsNoImage: [{ x: 10, y: 200, width: 490 }, { x: 10, y: 40, width: 490 }, { x: 10, y: 65, width: 490 }, { x: 10, y: 90, width: 490 }, { x: 10, y: 115, width: 490 }, { x: 10, y: 140, width: 490 }], expandCollapseBtnRadius: 20, box: '<rect x="0" y="0" height="220" width="500" rx="10" ry="10" class="get-box" />', text: '<text width="[width]" class="get-text get-text-[index]" x="[x]" y="[y]">[text]</text>', image: '<clipPath id="getMonicaClip"><circle cx="105" cy="65" r="85" /></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#getMonicaClip)" xlink:href="[href]" x="20" y="-20" height="170" width="170"/>' }, mytheme: { size: [330, 260], toolbarHeight: 46, textPoints: [{ x: 20, y: 45, width: 300 }, { x: 100, y: 100, width: 200 }, { x: 100, y: 125, width: 200 }, { x: 100, y: 150, width: 200 }], textPointsNoImage: [{ x: 20, y: 170, width: 350, rotate: 0 }, { x: 20, y: 115, width: 350, rotate: 0 }, { x: 20, y: 85, width: 350, rotate: 0 }, { x: 20, y: 55, width: 350, rotate: 0 }, { x: 20, y: 25, width: 350, rotate: 0 }, { x: 20, y: -5, width: 350, rotate: 0 }], expandCollapseBtnRadius: 20, box: '<rect x="0" y="0" height="260" width="330" rx="10" ry="10" class="get-box"></rect><g transform="matrix(0.25,0,0,0.25,123,142)"><path d="M48.014,42.889l-9.553-4.776C37.56,37.662,37,36.756,37,35.748v-3.381c0.229-0.28,0.47-0.599,0.719-0.951  c1.239-1.75,2.232-3.698,2.954-5.799C42.084,24.97,43,23.575,43,22v-4c0-0.963-0.36-1.896-1-2.625v-5.319  c0.056-0.55,0.276-3.824-2.092-6.525C37.854,1.188,34.521,0,30,0s-7.854,1.188-9.908,3.53C17.724,6.231,17.944,9.506,18,10.056  v5.319c-0.64,0.729-1,1.662-1,2.625v4c0,1.217,0.553,2.352,1.497,3.109c0.916,3.627,2.833,6.36,3.503,7.237v3.309  c0,0.968-0.528,1.856-1.377,2.32l-8.921,4.866C8.801,44.424,7,47.458,7,50.762V54c0,4.746,15.045,6,23,6s23-1.254,23-6v-3.043  C53,47.519,51.089,44.427,48.014,42.889z M51,54c0,1.357-7.412,4-21,4S9,55.357,9,54v-3.238c0-2.571,1.402-4.934,3.659-6.164  l8.921-4.866C23.073,38.917,24,37.354,24,35.655v-4.019l-0.233-0.278c-0.024-0.029-2.475-2.994-3.41-7.065l-0.091-0.396l-0.341-0.22  C19.346,23.303,19,22.676,19,22v-4c0-0.561,0.238-1.084,0.67-1.475L20,16.228V10l-0.009-0.131c-0.003-0.027-0.343-2.799,1.605-5.021  C23.253,2.958,26.081,2,30,2c3.905,0,6.727,0.951,8.386,2.828c1.947,2.201,1.625,5.017,1.623,5.041L40,16.228l0.33,0.298  C40.762,16.916,41,17.439,41,18v4c0,0.873-0.572,1.637-1.422,1.899l-0.498,0.153l-0.16,0.495c-0.669,2.081-1.622,4.003-2.834,5.713  c-0.297,0.421-0.586,0.794-0.837,1.079L35,31.623v4.125c0,1.77,0.983,3.361,2.566,4.153l9.553,4.776  C49.513,45.874,51,48.28,51,50.957V54z" fill="#FFFFFF"/></g><g transform="matrix(1,0,0,1,117,190)" class="btn-key" data-action="add"><path d="M5 0 L92 0 Q97 0 97 5 L97 40 Q97 45 92 45 L5 45 Q0 45 0 40 L0 5 Q0 0 5 0 Z"></path><circle cx="49" cy="23" r="10"></circle><line x1="42" y1="23" x2="56" y2="23"></line><line x1="49" y1="16" x2="49" y2="30"></line></g>', text: '<text width="[width]" data-action="main" class="get-text get-text-[index]" x="[x]" y="[y]">[text]</text><title>NameObjective</title>', image: '<clipPath id="clip"><circle cx="60" cy="120" r="40" /></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#clip)" xlink:href="[href]" x="30" y="90" height="50" width="50"/>', expandCollapseBtnRadius: 20 }, eve: { size: [500, 220], toolbarHeight: 46, textPoints: [{ x: 10, y: 200, width: 490 }, { x: 210, y: 40, width: 290 }, { x: 210, y: 65, width: 290 }, { x: 210, y: 90, width: 290 }, { x: 210, y: 115, width: 290 }, { x: 210, y: 140, width: 290 }], textPointsNoImage: [{ x: 10, y: 200, width: 490 }, { x: 10, y: 40, width: 490 }, { x: 10, y: 65, width: 490 }, { x: 10, y: 90, width: 490 }, { x: 10, y: 115, width: 490 }, { x: 10, y: 140, width: 490 }], expandCollapseBtnRadius: 20, box: '<path class="get-box" d="M0 0 L500 0 L500 220 L0 220 Z"/>', text: '<text width="[width]" class="get-text get-text-[index]" x="[x]" y="[y]">[text]</text>', image: '<image xlink:href="[href]" x="20" y="-20" height="170" preserveAspectRatio="xMidYMid slice" width="170"/>' }, tal: { size: [500, 220], toolbarHeight: 46, textPoints: [{ x: 10, y: 200, width: 490 }, { x: 210, y: 40, width: 290 }, { x: 210, y: 65, width: 290 }, { x: 210, y: 90, width: 290 }, { x: 210, y: 115, width: 290 }, { x: 210, y: 140, width: 290 }], textPointsNoImage: [{ x: 10, y: 200, width: 490 }, { x: 10, y: 40, width: 490 }, { x: 10, y: 65, width: 490 }, { x: 10, y: 90, width: 490 }, { x: 10, y: 115, width: 490 }, { x: 10, y: 140, width: 490 }], expandCollapseBtnRadius: 20, box: '<rect x="0" y="0" height="220" width="500" rx="10" ry="10" class="get-box" />', text: '<text width="[width]" class="get-text get-text-[index]" x="[x]" y="[y]">[text]</text>', image: '<image xlink:href="[href]" x="20" y="-20" height="170" preserveAspectRatio="xMidYMid slice" width="170"/>' }, vivian: { size: [500, 220], toolbarHeight: 46, textPoints: [{ x: 10, y: 200, width: 490 }, { x: 240, y: 40, width: 260 }, { x: 250, y: 65, width: 250 }, { x: 270, y: 90, width: 230 }, { x: 290, y: 115, width: 210 }, { x: 310, y: 140, width: 290 }], textPointsNoImage: [{ x: 10, y: 200, width: 490 }, { x: 10, y: 40, width: 490 }, { x: 10, y: 65, width: 490 }, { x: 10, y: 90, width: 490 }, { x: 10, y: 115, width: 490 }, { x: 10, y: 140, width: 490 }], expandCollapseBtnRadius: 20, box: '<path class="get-box" d="M0 0 L500 0 L500 220 L0 220 Z"/>', text: '<text width="[width]" class="get-text get-text-[index]" x="[x]" y="[y]">[text]</text>', image: '<clipPath id="getVivianClip"><polygon class="get-box" points="20,70 75,-20 185,-20 240,70 185,160 75,160"/></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#getVivianClip)" xlink:href="[href]" x="20" y="-20" height="200" width="300"/>' }, ada: { size: [500, 220], toolbarHeight: 46, textPoints: [{ x: 10, y: 200, width: 490 }, { x: 240, y: 40, width: 260 }, { x: 250, y: 65, width: 250 }, { x: 270, y: 90, width: 230 }, { x: 290, y: 115, width: 210 }, { x: 310, y: 140, width: 290 }], textPointsNoImage: [{ x: 10, y: 200, width: 490 }, { x: 10, y: 40, width: 490 }, { x: 10, y: 65, width: 490 }, { x: 10, y: 90, width: 490 }, { x: 10, y: 115, width: 490 }, { x: 10, y: 140, width: 490 }], expandCollapseBtnRadius: 20, box: '<rect x="0" y="0" height="220" width="500" rx="10" ry="10" class="get-box" />', text: '<text width="[width]" class="get-text get-text-[index]" x="[x]" y="[y]">[text]</text>', image: '<clipPath id="getVivianClip"><polygon class="get-box" points="20,70 75,-20 185,-20 240,70 185,160 75,160"/></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#getVivianClip)" xlink:href="[href]" x="20" y="-20" height="200" width="300"/>' }, helen: { size: [380, 190], toolbarHeight: 46, textPoints: [{ x: 20, y: 170, width: 350, rotate: 0 }, { x: 0, y: -380, width: 170, rotate: 90 }, { x: 20, y: -5, width: 170, rotate: 0 }], textPointsNoImage: [{ x: 20, y: 170, width: 350, rotate: 0 }, { x: 20, y: 115, width: 350, rotate: 0 }, { x: 20, y: 85, width: 350, rotate: 0 }, { x: 20, y: 55, width: 350, rotate: 0 }, { x: 20, y: 25, width: 350, rotate: 0 }, { x: 20, y: -5, width: 350, rotate: 0 }], expandCollapseBtnRadius: 20, text: '<text transform="rotate([rotate])"  width="[width]" class="get-text get-text-[index] get-helen-text" x="[x]" y="[y]">[text]</text>', image: '<image xlink:href="[href]" x="20" y="0" height="140" preserveAspectRatio="xMidYMid slice" width="350"/>' } }, "undefined" == typeof get && (get = {}), get._z = function (t, e, a, s, r, h) { var n, o = 1, l = s / 10 + 1; document.getElementsByTagName("g"), t.length || (t = [t]), n = setInterval(function () { for (var d in a) { var _ = getOkrChart.util._s(["top", "left", "right", "bottom"], d.toLowerCase()) ? "px" : ""; switch (d.toLowerCase()) { case "d": var c = r((10 * o - 10) / s) * (a[d][0] - e[d][0]) + e[d][0], g = r((10 * o - 10) / s) * (a[d][1] - e[d][1]) + e[d][1]; for (z = 0; z < t.length; z++)t[z].setAttribute("d", t[z].getAttribute("d") + " L" + c + " " + g); break; case "transform": if (a[d]) { var p = e[d], u = a[d], x = [0, 0, 0, 0, 0, 0]; for (i in p) x[i] = r((10 * o - 10) / s) * (u[i] - p[i]) + p[i]; for (z = 0; z < t.length; z++)t[z].setAttribute("transform", "matrix(" + x.toString() + ")") } break; case "viewbox": if (a[d]) { for (i in p = e[d], u = a[d], x = [0, 0, 0, 0], p) x[i] = r((10 * o - 10) / s) * (u[i] - p[i]) + p[i]; for (z = 0; z < t.length; z++)t[z].setAttribute("viewBox", x.toString()) } break; case "margin": if (a[d]) { for (i in p = e[d], u = a[d], x = [0, 0, 0, 0], p) x[i] = r((10 * o - 10) / s) * (u[i] - p[i]) + p[i]; for (i = 0; i < x.length; i++)parseInt(x[i]); for (z = 0; z < t.length; z++)t[z] && t[z].style && (t[z].style[d] = f) } break; default: var f = r((10 * o - 10) / s) * (a[d] - e[d]) + e[d]; for (z = 0; z < t.length; z++)t[z] && t[z].style && (t[z].style[d] = f + _) } } (o += 1) > l + 1 && (clearInterval(n), h && h(t)) }, 10) }, get._z._at = function (t) { return t < 0 ? 0 : t > 1 ? 1 : Math.pow(t, 2) }, get._z._aO = function (t) { return t < 0 ? 0 : t > 1 ? 1 : -1 * (Math.pow(t - 1, 2) + -1) }, get._z._af = function (t) { return t < 0 ? 0 : t > 1 ? 1 : (t *= 2) < 1 ? get._z._at(t, 2) / 2 : -.5 * (Math.pow(t - 2, 2) + -2) }, get._z._ag = function (t) { return t < 0 ? 0 : t > 1 ? 1 : 1 - Math.cos(t * (Math.PI / 2)) }, get._z._aL = function (t) { return t < 0 ? 0 : t > 1 ? 1 : Math.sin(t * (Math.PI / 2)) }, get._z._av = function (t) { return t < 0 ? 0 : t > 1 ? 1 : -.5 * (Math.cos(Math.PI * t) - 1) }, get._z._ax = function (t) { return t < 0 ? 0 : t > 1 ? 1 : Math.pow(2, 10 * (t - 1)) }, get._z._aK = function (t) { return t < 0 ? 0 : t > 1 ? 1 : 1 - Math.pow(2, -10 * t) }, get._z._ar = function (t) { return t < 0 ? 0 : t > 1 ? 1 : t < .5 ? .5 * Math.pow(2, 10 * (2 * t - 1)) : .5 * (2 - Math.pow(2, 10 * (-2 * t + 1))) }, get._z._as = function (t) { return t < 0 ? 0 : t > 1 ? 1 : -(Math.sqrt(1 - t * t) - 1) }, get._z._aI = function (t) { return t < 0 ? 0 : t > 1 ? 1 : Math.sqrt(1 - (t - 1) * (t - 1)) }, get._z._ac = function (t) { return t < 0 ? 0 : t > 1 ? 1 : t < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (2 * t - 2) * (2 * t - 2)) + 1) }, get._z._ze = function (t) { return t < 0 ? 0 : t > 1 ? 1 : t < 1 / 2.75 ? 1 - 7.5625 * t * t : t < 2 / 2.75 ? 1 - (7.5625 * (t - 1.5 / 2.75) * (t - 1.5 / 2.75) + .75) : t < 2.5 / 2.75 ? 1 - (7.5625 * (t - 2.25 / 2.75) * (t - 2.25 / 2.75) + .9375) : 1 - (7.5625 * (t - 2.625 / 2.75) * (t - 2.625 / 2.75) + .984375) }, get._z._aw = function (t) { return t < 0 ? 0 : t > 1 ? 1 : t * t * (2.70158 * t - 1.70158) }, get._z._aM = function (t) { return t < 0 ? 0 : t > 1 ? 1 : (t - 1) * (t - 1) * (2.70158 * (t - 1) + 1.70158) + 1 }, get._z._ad = function (t) { return t < 0 ? 0 : t > 1 ? 1 : t < .5 ? 4 * t * t * (7.1898 * t - 2.5949) * .5 : .5 * ((2 * t - 2) * (2 * t - 2) * (3.5949 * (2 * t - 2) + 2.5949) + 2) }, get._z._az = function (t) { var e = 2 * t; return e * Math.exp(1 - e) }, get._z._R = function (t) { return Math.exp(-2 * Math.pow(t, 2)) }, !getOkrChart) var getOkrChart = {}; getOkrChart.buttons = { add: '<g style="display:none;" class="get-btn" data-btn-id="[id]" data-btn-action="add" transform="matrix(0.14,0,0,0.14,0,0)"><rect style="opacity:0" x="0" y="0" height="300" width="300" /><path  fill="#686868" d="M149.996,0C67.157,0,0.001,67.158,0.001,149.997c0,82.837,67.156,150,149.995,150s150-67.163,150-150 C299.996,67.156,232.835,0,149.996,0z M149.996,59.147c25.031,0,45.326,20.292,45.326,45.325 c0,25.036-20.292,45.328-45.326,45.328s-45.325-20.292-45.325-45.328C104.671,79.439,124.965,59.147,149.996,59.147z M168.692,212.557h-0.001v16.41v2.028h-18.264h-0.864H83.86c0-44.674,24.302-60.571,40.245-74.843 c7.724,4.15,16.532,6.531,25.892,6.601c9.358-0.07,18.168-2.451,25.887-6.601c7.143,6.393,15.953,13.121,23.511,22.606h-7.275 v10.374v13.051h-13.054h-10.374V212.557z M218.902,228.967v23.425h-16.41v-23.425h-23.428v-16.41h23.428v-23.425H218.9v23.425 h23.423v16.41H218.902z"/></g>', edit: '<g style="display:none;" class="get-btn" data-btn-id="[id]" data-btn-action="edit" transform="matrix(0.14,0,0,0.14,0,0)"><rect style="opacity:0" x="0" y="0" height="300" width="300" /><path fill="#686868" d="M149.996,0C67.157,0,0.001,67.161,0.001,149.997S67.157,300,149.996,300s150.003-67.163,150.003-150.003 S232.835,0,149.996,0z M221.302,107.945l-14.247,14.247l-29.001-28.999l-11.002,11.002l29.001,29.001l-71.132,71.126 l-28.999-28.996L84.92,186.328l28.999,28.999l-7.088,7.088l-0.135-0.135c-0.786,1.294-2.064,2.238-3.582,2.575l-27.043,6.03 c-0.405,0.091-0.817,0.135-1.224,0.135c-1.476,0-2.91-0.581-3.973-1.647c-1.364-1.359-1.932-3.322-1.512-5.203l6.027-27.035 c0.34-1.517,1.286-2.798,2.578-3.582l-0.137-0.137L192.3,78.941c1.678-1.675,4.404-1.675,6.082,0.005l22.922,22.917 C222.982,103.541,222.982,106.267,221.302,107.945z"/></g>', del: '<g style="display:none;" class="get-btn" data-btn-id="[id]" data-btn-action="del" transform="matrix(0.14,0,0,0.14,0,0)"><rect style="opacity:0" x="0" y="0" height="300" width="300" /><path fill="#686868" d="M112.782,205.804c10.644,7.166,23.449,11.355,37.218,11.355c36.837,0,66.808-29.971,66.808-66.808 c0-13.769-4.189-26.574-11.355-37.218L112.782,205.804z"/> <path stroke="#686868" fill="#686868" d="M150,83.542c-36.839,0-66.808,29.969-66.808,66.808c0,15.595,5.384,29.946,14.374,41.326l93.758-93.758 C179.946,88.926,165.595,83.542,150,83.542z"/><path stroke="#686868" fill="#686868" d="M149.997,0C67.158,0,0.003,67.161,0.003,149.997S67.158,300,149.997,300s150-67.163,150-150.003S232.837,0,149.997,0z M150,237.907c-48.28,0-87.557-39.28-87.557-87.557c0-48.28,39.277-87.557,87.557-87.557c48.277,0,87.557,39.277,87.557,87.557 C237.557,198.627,198.277,237.907,150,237.907z"/></g>', details: '<g style="display:none;" class="get-btn" data-btn-id="[id]" data-btn-action="details" transform="matrix(0.14,0,0,0.14,0,0)"><rect style="opacity:0" x="0" y="0" height="300" width="300" /><path fill="#686868" d="M139.414,96.193c-22.673,0-41.056,18.389-41.056,41.062c0,22.678,18.383,41.062,41.056,41.062 c22.678,0,41.059-18.383,41.059-41.062C180.474,114.582,162.094,96.193,139.414,96.193z M159.255,146.971h-12.06v12.06 c0,4.298-3.483,7.781-7.781,7.781c-4.298,0-7.781-3.483-7.781-7.781v-12.06h-12.06c-4.298,0-7.781-3.483-7.781-7.781 c0-4.298,3.483-7.781,7.781-7.781h12.06v-12.063c0-4.298,3.483-7.781,7.781-7.781c4.298,0,7.781,3.483,7.781,7.781v12.063h12.06 c4.298,0,7.781,3.483,7.781,7.781C167.036,143.488,163.555,146.971,159.255,146.971z"/><path stroke="#686868" fill="#686868" d="M149.997,0C67.157,0,0.001,67.158,0.001,149.995s67.156,150.003,149.995,150.003s150-67.163,150-150.003 S232.836,0,149.997,0z M225.438,221.254c-2.371,2.376-5.48,3.561-8.59,3.561s-6.217-1.185-8.593-3.561l-34.145-34.147 c-9.837,6.863-21.794,10.896-34.697,10.896c-33.548,0-60.742-27.196-60.742-60.744c0-33.548,27.194-60.742,60.742-60.742 c33.548,0,60.744,27.194,60.744,60.739c0,11.855-3.408,22.909-9.28,32.256l34.56,34.562 C230.185,208.817,230.185,216.512,225.438,221.254z"/></g>', expColl: '<g transform="matrix(1,0,0,1,[xa],[ya])" class="btn-collapse" data-btn-id="[id]" data-btn-action="expColl"><circle cx="[middle]" cy="[middle]" r="[middle]" class="get-btn" /><line x1="[start]" y1="[middle]" x2="[end]" y2="[middle]" class="get-btn get-btn-line" /><line style="display:[display]" x1="[middle]" y1="[start]" x2="[middle]" y2="[end]" class="get-btn get-btn-line" /></g>' }, getOkrChart.buttons.draw = function () { var t = []; return t.push(getOkrChart.buttons.details), t.push(getOkrChart.buttons.edit), t.push(getOkrChart.buttons.add), t.push(getOkrChart.buttons.del), t }, "undefined" == typeof get && (get = {}), get._c = function () { if (getOkrChart._c) return getOkrChart._c; var t = navigator.userAgent; t = t.toLowerCase(); var e = /(webkit)[ \/]([\w.]+)/.exec(t) || /(opera)(?:.*version)?[ \/]([\w.]+)/.exec(t) || /(msie) ([\w.]+)/.exec(t) || t.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+))?/.exec(t) || [], i = e[1] || ""; return e[2], getOkrChart._c = { msie: "msie" == i, webkit: "webkit" == i, mozilla: "mozilla" == i, opera: "opera" == i }, getOkrChart._c }, getOkrChart.util = {}, getOkrChart.util._7 = function (_X) { var viewBox = _X._v.getAttribute("viewBox"); return viewBox = "[" + viewBox + "]", eval(viewBox.replace(/\ /g, ", ")) }, getOkrChart.util._5 = function (element) { var transform = element.getAttribute("transform"); return transform = transform.replace("matrix", "").replace("(", "").replace(")", ""), transform = getOkrChart.util._zT(transform), transform = "[" + transform + "]", eval(transform.replace(/\ /g, ", ")) }, getOkrChart.util._zT = function (t) { return t.replace(/^\s+|\s+$/g, "") }, getOkrChart.util._s = function (t, e) { if (t && Array.isArray(t)) for (var i = t.length; i--;)if (t[i] == e) return !0; return !1 }, getOkrChart.util._G = function (t) { for (var e = "1"; t[e];)e++; return e }, getOkrChart.util._6 = function (t) { for (var e, i = window.location.href.slice(window.location.href.indexOf("?") + 1).split("&"), a = 0; a < i.length; a++)if ((e = i[a].split("=")) && 2 == e.length && e[0] === t) { for (var s, r, h = /(%[^%]{2})/; null != (encodedChar = h.exec(e[1])) && encodedChar.length > 1 && "" != encodedChar[1];)s = parseInt(encodedChar[1].substr(1), 16), r = String.fromCharCode(s), e[1] = e[1].replace(encodedChar[1], r); return decodeURIComponent(escape(e[1])) } return null }, getOkrChart.util._zX = function (t) { if (window.ActiveXObject) (e = new ActiveXObject("Microsoft.XMLDOM")).async = "false", e.loadXML(t); else var e = (new DOMParser).parseFromString(t, "text/xml"); return e }, getOkrChart.util._ah = function (t) { return null == t || void 0 === t || "" == t || -1 == t }, getOkrChart.util._ab = function (t) { return null != t }, getOkrChart.util._a3 = function (t, e) { var i = t.getBoundingClientRect(), a = e.touches[0].pageX - i.left, s = e.touches[0].pageY - i.top, r = e.touches[1].pageX - i.left, h = e.touches[1].pageY - i.top; return Math.sqrt((a - r) * (a - r) + (s - h) * (s - h)) }, getOkrChart.util._a5 = function (t, e) { var i = t.getBoundingClientRect(), a = e.touches[0].pageX - i.left, s = e.touches[0].pageY - i.top, r = e.touches[1].pageX - i.left, h = e.touches[1].pageY - i.top; return [((a - r) / 2 + r) / (i.width / 100), ((s - h) / 2 + h) / (i.height / 100)] }, getOkrChart.util._aW = function (t, e, i) { var a = t.getBoundingClientRect(), s = e - a.left, r = i - a.top; return [s / (a.width / 100), r / (a.height / 100)] }, getOkrChart.util._zV = function (t, e) { var i = t.getBoundingClientRect(), a = e.touches[0].pageX - i.left, s = e.touches[0].pageY - i.top; return Math.sqrt((a - t2x) * (a - t2x) + (s - t2y) * (s - t2y)) }, getOkrChart.util._3 = function (t) { var e = ["darkred", "pink", "darkorange", "orange", "lightgreen", "green", "lightteal", "teal", "lightblue", "blue", "darkpurple", "purple", "mediumdarkblue", "darkblue", "cordovan", "darkcordovan", "neutralgrey"], i = e.indexOf(t); return e.splice(i, 1), e[Math.floor(16 * Math.random() + 1)] }, getOkrChart.prototype.showDetailsView = function (t) { var e = this.nodes[t], a = e.parent == this._zf, s = "", r = []; for (label in s += function (t, s, r) { var h = "<select " + (a ? 'style="display:none;"' : "") + 'class="get-oc-select-parent"><option value="' + t + '">--select parent--</option>', n = null; for (var o in s) if (n = s[o], e != n) { var l = ""; for (i = 0; i < r.length; i++) { var d = r[i]; n.data && n.data[d] && (l ? l = l + ", " + n.data[d] : l += n.data[d]) } n.id == t ? h += '<option selected="selected" value="' + n.id + '">' + l + "</option>" : h += '<option value="' + n.id + '">' + l + "</option>" } return h + "</select>" }(e.pid, this.nodes, this.config.primaryFields), s += getOkrChart.DETAILS_VIEW_ID_INPUT.replace("[personId]", e.id), e.data) s += getOkrChart.DETAILS_VIEW_INPUT_HTML.replace(/\[label]/g, label).replace("[value]", e.data[label]), r.push(label); s += function (t, e) { var a, s = '<select class="get-oc-labels"><option value="">--other--</option>'; for (i = 0; i < e.length; i++)getOkrChart.util._s(t, e[i]) || (a += '<option value="' + e[i] + '">' + e[i] + "</option>"); return s += a, s += "</select>", a || (s = ""), s }(r, this._aj), this._X._i.innerHTML = s; var h = e.getImageUrl ? e.getImageUrl() : ""; this._X._m.innerHTML = h ? getOkrChart.DETAILS_VIEW_ID_IMAGE.replace("[src]", h) : getOkrChart.DETAILS_VIEW_USER_LOGO, this._k(); var n = this.config.customize[e.id] && this.config.customize[e.id].theme ? getOkrChart.themes[this.config.customize[e.id].theme].toolbarHeight : this.theme.toolbarHeight; this._X._t.style.top = "-9999px", this._X._t.style.left = "-9999px", this._X._u.style.top = n + "px", this._X._u.style.left = "0px", this._X._u.style.position = "relative", this._X._9.style.top = "-9999px", this._X._9.style.left = "-9999px", this._X._9.innerHTML = "", this._X._i.style.opacity = 0, this._X._m.style.opacity = 0, get._z(this._X._m, { opacity: 0 }, { opacity: 1 }, 400, get._z._aL), get._z(this._X._zF, { top: 0 }, { top: -n }, 200, get._z._aL), get._z(this._X._i, { opacity: 0 }, { opacity: 1 }, 200, get._z._ag) }, getOkrChart.prototype._k = function () { this._X._I(), this._X._J() && this._q(this._X._J(), "change", this._j) }, getOkrChart.prototype._j = function (t, e) { for (var i = this._X._U(), a = this._X._J(), s = a.value, r = 0; r < a.options.length; r++)s == a.options[r].value && (a.options[r] = null); if (s) { var h = this._X._i.innerHTML, n = getOkrChart.DETAILS_VIEW_INPUT_HTML.replace(/\[label]/g, s).replace("[value]", ""), o = h.indexOf('<select class="get-oc-labels">'); this._X._i.innerHTML = h.substring(0, o) + n + h.substring(o, h.length); var l = this._X._I(), d = 1; for (r in i) l[d].value = i[r], d++; this._k() } }, getOkrChart.prototype._zg = function (t, e) { if (this._S) { var i, a = this._X._M().value; this._X._K() && this._X._K().value && (i = this._X._K().value); var s = this._X._U(); this.updateNode(a, i, s), this._S = !1 } this.showMainView() }, getOkrChart.prototype._zW = function () { this.showGridView() }, getOkrChart.prototype.showGridView = function () { var t = '<table cellpadding="0" cellspacing="0" border="0">'; for (t += "<tr>", t += "<th>ID</th><th>Parent ID</th>", i = 0; i < this._aj.length; i++)t += "<th>" + this._aj[i] + "</th>"; for (var e in t += "</tr>", this.nodes) { var a = this.nodes[e], s = i % 2 == 0 ? "get-even" : "get-odd", r = a.data; for (t += '<tr class="' + s + '">', t += "<td>" + a.id + "</td>", t += "<td>" + a.pid + "</td>", j = 0; j < this._aj.length; j++) { t += "<td>", t += r[this._aj[j]] || "&nbsp;", t += "</td>" } t += "</tr>" } t += "</table>", this._X._9.innerHTML = t, this._X._t.style.top = "-9999px", this._X._t.style.left = "-9999px", this._X._u.style.top = "-9999px", this._X._u.style.left = "-9999px", this._X._9.style.top = this.theme.toolbarHeight + "px", this._X._9.style.left = "0px", get._z(this._X._9, { left: 100, opacity: 0 }, { left: 0, opacity: 1 }, 200, get._z._aK), get._z(this._X._zF, { top: 0 }, { top: 2 * -this.theme.toolbarHeight }, 200, get._z._aL) }, getOkrChart.prototype._zS = function (t, e) { this.showMainView() }, getOkrChart.prototype.showMainView = function () { this._X._t.style.top = this.theme.toolbarHeight + "px", this._X._t.style.left = "0px", this._X._u.style.top = "-9999px", this._X._u.style.left = "-9999px", this._X._9.style.top = "-9999px", this._X._9.style.left = "-9999px", this._X._9.innerHTML = "", 0 != this._X._zF.style.top && "" != this._X._zF.style.top && "0px" != this._X._zF.style.top && get._z(this._X._zF, { top: -46 }, { top: 0 }, 200, get._z._aL) }, getOkrChart.prototype._zx = function (t, e) { this.print() }, getOkrChart.prototype.print = function () { var t, e = this, i = this._X.element, a = this._X._zR, s = [], r = i.parentNode, h = a.style.display, n = document.body, o = n.childNodes; if (!e._ay) { for (e._ay = !0, t = 0; t < o.length; t++) { var l = o[t]; 1 === l.nodeType && (s[t] = l.style.display, l.style.display = "none") } a.style.display = "none", n.appendChild(i), window.focus(), window.print(), setTimeout(function () { for (r.appendChild(i), t = 0; t < o.length; t++) { var n = o[t]; 1 === n.nodeType && (n.style.display = s[t]) } a.style.display = h, e._ay = !1 }, 1e3) } }, getOkrChart.prototype._zO = function () { this.zoom(!0, !0) }, getOkrChart.prototype._zP = function () { this.zoom(!1, !0) }, getOkrChart.prototype._zh = function (t, e) { this._zn = this._X._u.scrollTop + e[0].touches[0].pageY }, getOkrChart.prototype._zy = function (t, e) { this._X._u.scrollTop = this._zn - e[0].touches[0].pageY }, getOkrChart.prototype._zu = function (t, e) { this._X._n = void 0; var i = e[0].wheelDelta ? e[0].wheelDelta / 40 : e[0].detail ? -e[0].detail : 0; if (i) { var a = i > 0, s = getOkrChart.util._aW(this._X._v, e[0].pageX, e[0].pageY); this.zoom(a, !1, s) } return e[0].preventDefault() && !1 }, getOkrChart.prototype._zc = function (t, e) { var i = this; window.setTimeout(function () { i.resize() }, 300) }, getOkrChart.prototype._aA = function (t, e) { if (this._X._n = void 0, this._aP.dragStart) { this._X._t.style.cursor = "move"; var i = e[0].pageX - this._X._t.offsetLeft, a = e[0].pageY - this._X._t.offsetTop, s = getOkrChart.util._7(this._X), r = s[2] / this._a2, h = s[3] / this._a1, n = r > h ? r : h; s[0] = -(i - this._aP.dragStart.x) * n + this._aP.dragStart.viewBoxLeft, s[1] = -(a - this._aP.dragStart.y) * n + this._aP.dragStart.viewBoxTop, s[0] = parseInt(s[0]), s[1] = parseInt(s[1]), this._X._v.setAttribute("viewBox", s.toString()) } if (this.config.enableMove) { var o = this; if (this._aE) return clearTimeout(this._aE), void (this._aE = setTimeout(l, 4e3)); function l() { get._z(o._X._zr, { right: 1, opacity: .8 }, { right: -30, opacity: 0 }, 500, get._z._ax, function () { o._aE = null }), get._z(o._X._am, { left: 1, opacity: .8 }, { left: -30, opacity: 0 }, 500, get._z._ax, function () { o._aE = null }), get._z(o._X._zB, { top: 49, opacity: .8 }, { top: 19, opacity: 0 }, 500, get._z._ax, function () { o._aE = null }), get._z(o._X._Q, { bottom: 1, opacity: .8 }, { bottom: -30, opacity: 0 }, 500, get._z._ax, function () { o._aE = null }) } get._z(o._X._zr, { right: -30, opacity: 0 }, { right: 1, opacity: .8 }, 500, get._z._ax), get._z(o._X._am, { left: -30, opacity: 0 }, { left: 1, opacity: .8 }, 500, get._z._ax), get._z(o._X._zB, { top: 19, opacity: 0 }, { top: 49, opacity: .8 }, 500, get._z._ax), get._z(o._X._Q, { bottom: -30, opacity: 0 }, { bottom: 1, opacity: .8 }, 500, get._z._ax), this._aE = setTimeout(l, 4e3) } }, getOkrChart.prototype._aQ = function (t, e) { document.body.style.mozUserSelect = document.body.style.webkitUserSelect = document.body.style.userSelect = "none"; var i = getOkrChart.util._7(this._X); this._aP.dragStart = { x: e[0].pageX - this._X._t.offsetLeft, y: e[0].pageY - this._X._t.offsetTop, viewBoxLeft: i[0], viewBoxTop: i[1] } }, getOkrChart.prototype._aZ = function (t, e) { this._aP.dragStart = null, this._X._t.style.cursor = "default" }, getOkrChart.prototype.zoom = function (t, e, i) { if (this._zI) return !1; this._zI = !0; var a = this, s = getOkrChart.util._7(this._X), r = s.slice(0), h = s[2], n = s[3]; !0 === t ? (s[2] = s[2] / (1.2 * getOkrChart.SCALE_FACTOR), s[3] = s[3] / (1.2 * getOkrChart.SCALE_FACTOR)) : !1 === t ? (s[2] = s[2] * (1.2 * getOkrChart.SCALE_FACTOR), s[3] = s[3] * (1.2 * getOkrChart.SCALE_FACTOR)) : (s[2] = s[2] / t, s[3] = s[3] / t), i || (i = [50, 50]), s[0] = r[0] - (s[2] - h) / (100 / i[0]), s[1] = r[1] - (s[3] - n) / (100 / i[1]); var o = this._a2 / s[2], l = this._a1 / s[3]; return this.scale = o > l ? l : o, this.scale < this.minScale && (this.scale = this.minScale, s[2] = this._a2 / this.scale, s[3] = this._a1 / this.scale, s[0] = r[0] - (s[2] - h) / (100 / i[0]), s[1] = r[1] - (s[3] - n) / (100 / i[1])), this.scale > this.maxScale && (this.scale = this.maxScale, s[2] = this._a2 / this.scale, s[3] = this._a1 / this.scale, s[0] = r[0] - (s[2] - h) / (100 / i[0]), s[1] = r[1] - (s[3] - n) / (100 / i[1])), e ? get._z(this._X._v, { viewBox: r }, { viewBox: s }, 300, get._z._aM, function () { a._zI = !1 }) : (this._X._v.setAttribute("viewBox", s.toString()), this._zI = !1), !1 }, getOkrChart.prototype._aC = function (t, e) { if (t.className.indexOf("get-disabled") > -1) return !1; var i = this; clearTimeout(this._zj.timer), this._zj.timer = setTimeout(function () { i._zj.currentIndex++ , i._l(), i._aa() }, 100) }, getOkrChart.prototype._zz = function (t, e) { if (t.className.indexOf("get-disabled") > -1) return !1; var i = this; clearTimeout(this._zj.timer), this._zj.timer = setTimeout(function () { i._zj.currentIndex-- , i._l(), i._aa() }, 100) }, getOkrChart.prototype._zi = function (t, e) { var i = this; clearTimeout(this._zj.timer), this._zj.timer = setTimeout(function () { i._zj.found = i._F(i._X._zm.value), i._zj.currentIndex = 0, i._l(), i._au(), i._aa() }, 500) }, getOkrChart.prototype._zk = function (t, e) { var i = this; clearTimeout(this._zj.timer), this._zj.timer = setTimeout(function () { i._zj.currentIndex = 0, i._zj.found = i._F(i._X._zm.value), i._au(), i._l(), i._aa() }, 100) }, getOkrChart.prototype._aa = function () { this._zj.found.length && this.highlightNode(this._zj.found[this._zj.currentIndex].node.id) }, getOkrChart.prototype.highlightNode = function (t) { var e = this; function i() { var i = e.nodes[t], a = (getOkrChart.util._7(e._X), i.x - e.initialViewBoxMatrix[2] / 2 + i.w / 2), s = i.y - e.initialViewBoxMatrix[3] / 2 + i.h / 2; e.move([a, s, e.initialViewBoxMatrix[2], e.initialViewBoxMatrix[3]], null, function () { var a = e._X.getNodeById(t), s = getOkrChart.util._5(a), r = s.slice(0); r[0] = getOkrChart.HIGHLIGHT_SCALE_FACTOR, r[3] = getOkrChart.HIGHLIGHT_SCALE_FACTOR, r[4] = r[4] - i.w / 2 * (getOkrChart.HIGHLIGHT_SCALE_FACTOR - 1), r[5] = r[5] - i.h / 2 * (getOkrChart.HIGHLIGHT_SCALE_FACTOR - 1), get._z(a, { transform: s }, { transform: r }, 200, get._z._ag, function (t) { get._z(t[0], { transform: r }, { transform: s }, 200, get._z._aL, function () { }) }) }) } this.isCollapsed(this.nodes[t]) ? this.expand(this.nodes[t].parent, i) : i() }, getOkrChart.prototype._au = function (t) { }, getOkrChart.prototype._l = function () { this._zj.currentIndex < this._zj.found.length - 1 && 0 != this._zj.found.length ? this._X._aD.className = this._X._aD.className.replace(" get-disabled", "") : -1 == this._X._aD.className.indexOf(" get-disabled") && (this._X._aD.className = this._X._aD.className + " get-disabled"), 0 != this._zj.currentIndex && 0 != this._zj.found.length ? this._X._za.className = this._X._za.className.replace(" get-disabled", "") : -1 == this._X._za.className.indexOf(" get-disabled") && (this._X._za.className = this._X._za.className + " get-disabled") }, getOkrChart.prototype._F = function (t) { var e = []; if ("" == t) return e; for (var i in t.toLowerCase && (t = t.toLowerCase()), this.nodes) { var a = this.nodes[i]; for (m in a.data) if (m != this.config.photoFields[0]) { var s = -1; if (getOkrChart.util._ab(a) && getOkrChart.util._ab(a.data[m]) && (s = a.data[m].toString().toLowerCase().indexOf(t)), s > -1) { e.push({ indexOf: s, node: a }); break } } } return e.sort(function (t, e) { return t.indexOf < e.indexOf ? -1 : t.indexOf > e.indexOf ? 1 : 0 }), e }, getOkrChart.prototype._aB = function (t, e) { var i = t.getAttribute("data-node-id"), a = this.nodes[i], s = a.x + a.w - 15, r = a.x - 30, h = a.y - 30, n = a.y + a.h - 15; this.config.enableDetailsView && this._zp("details", s, h, i), (1 == this.config.enableEdit || getOkrChart.util._s(this.config.enableEdit, i)) && (this._zp("add", s, n, i), this._zp("edit", r, h, i), this._zp("del", r, n, i)) }, getOkrChart.prototype._aG = function (t, e) { var i = e[0]; i.preventDefault(), this._aB(t, e); var a = (new Date).getTime(); if (null != this._aT) if (i.touches && i.touches.length && i.touches.length > 1) this._aT = null; else if (this.config.enableZoomOnNodeDoubleClick) { var s = a - this._aT.time; if (s < 400 && s > 0) { this._aP.dragStart = null; var r = t.getAttribute("data-node-id"), h = this.nodes[r], n = getOkrChart.util._7(this._X), o = n.slice(0); if (this._aT.viewBox && this._aT.id == r) this.move(this._aT.viewBox), this._aT = null; else { var l = (o = getOkrChart.util._7(this._X))[2] / o[3]; o[2] = 1.5 * h.w, o[3] = o[2] / l, o[0] = h.x - h.w / 4, o[1] = h.y - o[3] / 2 + h.h / 2, this.move(o), this._aT.viewBox && (n = this._aT.viewBox), this._aT = { id: r, viewBox: n } } } this._aT && (this._aT.time = a) } else this._aT = null; else this._aT = { time: a } }, getOkrChart.prototype._zp = function (t, e, i, a) { var s = this._X.getButtonByType(t); s.style.display = "block", s.setAttribute("transform", "matrix(0.14,0,0,0.14," + e + "," + i + ")"), s.setAttribute("data-btn-id", a) }, getOkrChart.prototype._aV = function (t, e) { var i = t.getAttribute("data-node-id"), a = this.nodes[i]; this._V("clickNodeEvent", { node: a }) }, getOkrChart.prototype._aF = function (t, e) { e[0].preventDefault(); var i = t.getAttribute("data-btn-id"), a = t.getAttribute("data-btn-action"); "del" == a ? this.removeNode(i) : "add" == a ? this.insertNode(i) : "details" == a ? this.showDetailsView(i) : "edit" == a ? this.showEditView(i) : "expColl" == a && this.expandOrCollapse(i) }, getOkrChart.prototype.showEditView = function (t) { this._S = !0, this.showDetailsView(t) }, getOkrChart.prototype.expand = function (t, e) { var i = this; t.collapsed = getOkrChart.EXPANDED, t.parent == this._zf || null == t.parent ? this.loadFromJSON(this.nodes, !0, function () { i._V("updatedEvent"), e() }) : this.expand(t.parent, e) }, getOkrChart.prototype.expandOrCollapse = function (t) { var e = this, i = this.nodes[t]; this._aJ = { id: t, old_x: i.x, old_y: i.y }, i.collapsed == getOkrChart.EXPANDED ? i.collapsed = getOkrChart.COLLAPSED : i.collapsed = getOkrChart.EXPANDED, this.loadFromJSON(this.nodes, !0, function () { i.collapsed == getOkrChart.EXPANDED && e.moveToMostDeepChildForNode(i), e._V("updatedEvent") }) }, getOkrChart.prototype.moveToMostDeepChildForNode = function (t) { var e = getOkrChart.util._7(this._X); t = t.getMostDeepChild(this.nodes); var i = this.config.siblingSeparation / 2, a = this.config.levelSeparation / 2, s = e.slice(0); switch (this.config.orientation) { case getOkrChart.RO_TOP: case getOkrChart.RO_TOP_PARENT_LEFT: s[1] = t.y + t.h - e[3] + a, e[1] < s[1] && this.move(s); break; case getOkrChart.RO_BOTTOM: case getOkrChart.RO_BOTTOM_PARENT_LEFT: s[1] = t.y - a, e[1] > s[1] && this.move(s); break; case getOkrChart.RO_RIGHT: case getOkrChart.RO_RIGHT_PARENT_TOP: s[0] = t.x - i, e[0] > s[0] && this.move(s); break; case getOkrChart.RO_LEFT: case getOkrChart.RO_LEFT_PARENT_TOP: s[0] = t.x + t.w - e[2] + i, e[0] < s[0] && this.move(s) } }, getOkrChart.prototype.insertNode = function (t, e, i) { var a = this, s = this.nodes[t]; this._aJ = { id: t, old_x: s.x, old_y: s.y }, null == i && (i = getOkrChart.util._G(this.nodes)), null != e && null != e || (e = {}, this.config.primaryFields.forEach(function (t) { e[t] = t })); var r = this._h(i, t, null, e, !1); if (this._V("insertNodeEvent", { node: r })) return r.x = s.x, r.y = s.y, this.loadFromJSON(this.nodes, !0, function () { a.moveToMostDeepChildForNode(a.nodes[r.id]), a._V("updatedEvent") }), r; this.removeNode(r.id) }, getOkrChart.prototype.removeNode = function (t) { var e = this; if (this._V("removeNodeEvent", { id: t })) { var i = this.nodes[t], a = i.parent; for (j = 0; j < i.children.length; j++)i.children[j].pid = a.id; var s = this._X.getNodeById(t); s.parentNode.removeChild(s), delete this.nodes[t], this.loadFromJSON(this.nodes, !0, function () { e._V("updatedEvent") }) } }, getOkrChart.prototype.updateNode = function (t, e, i) { var a = this, s = this.nodes[t]; s.pid = e, s.data = i, this._V("updateNodeEvent", { node: s }) && this.loadFromJSON(this.nodes, !0, function () { a._V("updatedEvent") }) }, getOkrChart.prototype._h = function (t, e, i, a, s, r) { var h = this.config.customize[t] && this.config.customize[t].theme ? getOkrChart.themes[this.config.customize[t].theme] : this.theme; s = null == s ? getOkrChart.NOT_DEFINED : s; var n = new getOkrChart.node(t, e, i, a, h.size, this.config.photoFields, s, r); if (!this._V("createNodeEvent", { node: n })) return null; for (label in this.nodes[t] ? (n._zJ = this.nodes[t].x, n._zM = this.nodes[t].y) : (n._zJ = null, n._zM = null), this.nodes[t] = n, n.data) getOkrChart.util._s(this._aj, label) || this._aj.push(label); return n }, getOkrChart.prototype._C = function (t, e) { this.exportToImage() }, getOkrChart.prototype.exportToImage = function () { var t = document.getElementById("getExportChartDiv"); t || ((t = document.createElement("div")).style.display = "none", t.style.width = "1px", t.style.height = "1px", t.style.position = "absolute", t.style.top = "-10000px", t.style.left = "-10000px", t.id = "getExportChartDiv"), document.body.appendChild(t); var e = JSON.parse(JSON.stringify(this.config)); e.scale = 1, e.expandToLevel = null; var a = new getOkrChart(t, e), s = 0, r = 0, h = 0, n = 0; for (var o in a.nodes) { var l = a.nodes[o]; l.x > s && (s = l.x), l.y > r && (r = l.y), l.x < h && (h = l.x), l.y < n && (n = l.y) } width = s, height = r; var d = h - this.config.subtreeSeparation + "," + n + "," + (s + this.theme.size[0] + 2 * this.config.subtreeSeparation) + "," + (r + this.theme.size[1]); a._X._v.setAttribute("viewBox", d); var _ = document.getElementById("getExportChartCanvas"); _ || ((_ = document.createElement("canvas")).width = width, _.height = height, _.style.position = "absolute", _.style.top = "-10000px", _.style.left = "-10000px", _.id = "getExportChartCanvas", document.body.appendChild(_)); var c = _.getContext("2d"); !function t(e, i, a) { !function (t, e) { if (t) { var i = new XMLHttpRequest; i.onload = function () { var a = new FileReader; a.onloadend = function () { t.href.baseVal = a.result, e() }, a.readAsDataURL(i.response) }, i.open("GET", t.href.baseVal), i.responseType = "blob", i.send() } else e() }(e[i], function () { e.length > i - 1 && (e[++i] ? t(e, i, a) : a()) }) }(t.getElementsByTagName("image"), 0, function () { !function () { var t = ""; for (i = 0; i < document.styleSheets.length; i++) { if (document.styleSheets[i].href && -1 != document.styleSheets[i].href.indexOf("get-org-chart.css")) { t = document.styleSheets[i].href; break } if (document.styleSheets[i].href && -1 != document.styleSheets[i].href.indexOf("getokrchart.css")) { t = document.styleSheets[i].href; break } } get._a._B(t, null, function (t) { var e = (new XMLSerializer).serializeToString(a._X._v); e = e.replace("<svg", '<svg width="' + width + '" height="' + height + '" ').replace("<defs/>", '<defs/><g class="' + a._X._zY.className + '"><g class="get-oc-tb"><g class="get-oc-c">').replace("</defs>", '</defs><g class="' + a._X._zY.className + '"><g class="get-oc-tb"><g class="get-oc-c">').replace("<defs/>", '<defs><style type="text/css">' + t + "</style></defs>").replace("</defs>", '<style type="text/css">' + t + "</style></defs>").replace("</svg>", "</g></g></g></svg>"); var i = window.URL || window.webkitURL || window, s = new Image, r = new Blob([e], { type: "image/svg+xml;charset=utf-8" }), h = i.createObjectURL(r); s.onload = function () { var t, e, a; c.drawImage(s, 0, 0), i.revokeObjectURL(h), t = _.toDataURL("image/png").replace("image/png", "image/octet-stream"), e = new MouseEvent("click", { view: window, bubbles: !1, cancelable: !0 }), (a = document.createElement("a")).setAttribute("download", "getokrchart.png"), a.setAttribute("href", t), a.setAttribute("target", "_blank"), a.dispatchEvent(e) }, s.src = h }) }() }) }, getOkrChart.prototype.load = function () { var t = this.config.dataSource; t && (t.constructor && t.constructor.toString().indexOf("HTML") > -1 ? this.loadFromHTMLTable(t) : "string" == typeof t ? this.loadFromXML(t) : (t = JSON.parse(JSON.stringify(this.config.dataSource)), this.loadFromJSON(t))) }, getOkrChart.prototype.loadFromJSON = function (t, e, i) { if (this._zt = 0, this._zv = 0, this._zf = new getOkrChart.node(-1, null, null, null, 2, 2), e) for (var a in t) this.nodes[a] && !this.nodes[a].isVisible() && (this.nodes[a].x = this.nodes[a].parent.x, this.nodes[a].y = this.nodes[a].parent.y), this._h(a, t[a].pid, t[a].spid, t[a].data, t[a].collapsed, t[a].color); else { var s = Object.keys(t[0])[0], r = Object.keys(t[0])[1], h = null; this.config.idField && (s = this.config.idField), this.config.parentIdField && (r = this.config.parentIdField), this.config.secondParentIdField && (h = this.config.secondParentIdField); for (var n = 0; n < t.length; n++) { a = t[n][s]; var o = t[n][r], l = null; delete t[n][s], delete t[n][r], null != h && (l = t[n][h], delete t[n][h]), this._h(a, o, l, t[n]) } } for (var a in this.nodes) { var d = this.nodes[a]; (p = this.nodes[d.pid]) || (p = this._zf), d.parent = p; var _ = p.children.length; if (p.children[_] = d, null != d.spid && "" != d.spid) { var c = this.nodes[d.spid]; d.secondParent = c; var g = c.secondChildren.length; c.secondChildren[g] = d } } if (this.config.layout == getOkrChart.MIXED_HIERARCHY_RIGHT_LINKS) for (var a in this.nodes) { d = this.nodes[a]; var p = this.nodes[d.pid], u = a; if (0 == d.children.length) for (z = 0; z < p.children.length; z++) { var x = p.children[z]; 0 == x.children.length && x != this.nodes[u] && null == x.displayPid && null == x.displayChildren && (null == this.nodes[u].color && (this.nodes[u].color = getOkrChart.util._3(this.config.color)), x.color = this.nodes[u].color, x.displayPid = u, x.displayParent = this.nodes[u], null == this.nodes[u].displayChildren && (this.nodes[u].displayChildren = []), _ = this.nodes[u].displayChildren.length, this.nodes[u].displayChildren[_] = x, u = x.id) } } this.draw(i) }, getOkrChart.prototype.loadFromHTMLTable = function (t) { for (var e = t.rows[0], i = [], a = 1; a < t.rows.length; a++) { for (var s = t.rows[a], r = {}, h = 0; h < s.cells.length; h++) { var n = s.cells[h]; r[e.cells[h].innerHTML] = n.innerHTML } i.push(r) } this.loadFromJSON(i) }, getOkrChart.prototype.loadFromXML = function (t) { var e = this, i = []; get._a._B(t, null, function (t) { e._ak = 0, e._ai(t, null, !0, i), e.loadFromJSON(i) }, "xml") }, getOkrChart.prototype.loadFromXMLDocument = function (t) { var e = [], i = getOkrChart.util._zX(t); this._ak = 0, this._ai(i, null, !0, e), this.loadFromJSON(e) }, getOkrChart.prototype._ai = function (t, e, i, a) { if (1 == t.nodeType && t.attributes.length > 0) { var s = {}; this._ak++ , s.id = this._ak, s.pid = e; for (var r = 0; r < t.attributes.length; r++) { var h = t.attributes.item(r); s[h.nodeName] = h.nodeValue } a.push(s), i && (i = !1) } if (t.hasChildNodes()) { i || (e = this._ak); for (var n = 0; n < t.childNodes.length; n++) { var o = t.childNodes.item(n); o.nodeName, 3 != o.nodeType && this._ai(o, e, i, a) } } }, "undefined" == typeof get && (get = {}), get._a = {}, get._a._zU = function () { return window.XMLHttpRequest ? new XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP") }, get._a._zl = function (t, e, i, a, s, r) { var h = get._a._zU(); h.open(i, t, r), h.onreadystatechange = function () { if (get._c().msie || "xml" != a || 4 != h.readyState) if (get._c().msie && "xml" == a && 4 == h.readyState) try { var t = (new DOMParser).parseFromString(h.responseText, "text/xml"); e(t) } catch (i) { (t = new ActiveXObject("Microsoft.XMLDOM")).loadXML(h.responseText), e(t) } else 4 == h.readyState && e(h.responseText); else e(h.responseXML) }, "POST" == i && h.setRequestHeader("Content-type", "application/x-www-form-urlencoded"), h.send(s) }, get._a._B = function (t, e, i, a, s) { var r = []; for (var h in e) r.push(encodeURIComponent(h) + "=" + encodeURIComponent(e[h])); get._a._zl(t + "?" + r.join("&"), i, "GET", a, null, s) }, get._a._a8 = function (t, e, i, a, s) { var r = []; for (var h in e) r.push(encodeURIComponent(h) + "=" + encodeURIComponent(e[h])); get._a._zl(t, i, "POST", a, r.join("&"), s) }, getOkrChart.prototype._y = function (t, e) { var i = e[0]; if ((new Date).getTime(), 1 == e[0].touches.length) { var a = getOkrChart.util._7(this._X); this._aP.dragStart = { x: e[0].touches[0].pageX - this._X._t.offsetLeft, y: e[0].touches[0].pageY - this._X._t.offsetTop, viewBoxLeft: a[0], viewBoxTop: a[1] } } 2 == e[0].touches.length && (this._aP.dragStart = null, this._p = null, this._a4 = getOkrChart.util._a3(this._X._v, i)) }, getOkrChart.prototype._b = function (t, e) { if (e[0].preventDefault(), 1 == e[0].touches.length && (this._X._n = void 0, this._aP.dragStart)) { var i = e[0].touches[0].pageX - this._X._t.offsetLeft, a = e[0].touches[0].pageY - this._X._t.offsetTop; this._X._t.style.cursor = "move"; var s = getOkrChart.util._7(this._X), r = s[2] / this._a2, h = s[3] / this._a1, n = r > h ? r : h; s[0] = -(i - this._aP.dragStart.x) * n + this._aP.dragStart.viewBoxLeft, s[1] = -(a - this._aP.dragStart.y) * n + this._aP.dragStart.viewBoxTop, s[0] = parseInt(s[0]), s[1] = parseInt(s[1]), this._X._v.setAttribute("viewBox", s.toString()) } if (2 == e[0].touches.length) { var o = getOkrChart.util._a3(this._X._v, e[0]), l = 1 + (o - this._a4) / (this._a4 / 100) / 100, d = getOkrChart.util._a5(this._X._v, e[0]); this.zoom(l, null, d), this._a4 = o } }, getOkrChart.prototype._g = function (t, e) { e[0], (new Date).getTime() }, getOkrChart.prototype._aU = function (t, e) { var i = e[0]; this._aV(t, e), this._aB(t, e); var a = (new Date).getTime(); if (null != this._aT) if (i.touches && i.touches.length && i.touches.length > 1) this._aT = null; else if (this.config.enableZoomOnNodeDoubleClick) { var s = a - this._aT.time; if (s < 400 && s > 0) { this._aP.dragStart = null; var r = t.getAttribute("data-node-id"), h = this.nodes[r], n = getOkrChart.util._7(this._X), o = n.slice(0); if (this._aT.viewBox && this._aT.id == r) this.move(this._aT.viewBox), this._aT = null; else { var l = (o = getOkrChart.util._7(this._X))[2] / o[3]; o[2] = 1.5 * h.w, o[3] = o[2] / l, o[0] = h.x - h.w / 4, o[1] = h.y - o[3] / 2 + h.h / 2, this.move(o), this._aT.viewBox && (n = this._aT.viewBox), this._aT = { id: r, viewBox: n } } } this._aT && (this._aT.time = a) } else this._aT = null; else this._aT = { time: a } }, getOkrChart.prototype._aN = function (t, e) { e[0].preventDefault() }, getOkrChart.prototype._aH = function (t, e) { var i = e[0]; i.touches && i.touches.length && 0 == i.touches.length && (this._aT = null) };